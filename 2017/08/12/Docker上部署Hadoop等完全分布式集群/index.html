<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Just a hobby, won't be big and professional like Linux."><title>Docker上部署Hadoop等完全分布式集群 | 断鸿声里，立尽斜阳</title><link rel="stylesheet" type="text/css" href="//fonts.css.network/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><!--添加打赏连接--><!--link(rel='stylesheet', type='text/css', href=url_for(theme.css) + '/reward.scss')--><!--link(rel='stylesheet', type='text/x-scss', href=url_for(theme.css) + '/tooltip.css')--><!--end--><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Docker上部署Hadoop等完全分布式集群</h1><a id="logo" href="/.">断鸿声里，立尽斜阳</a><p class="description">流萤弄月照玉窗，一纸红笺话思量</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 时间线</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="search"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">Docker上部署Hadoop等完全分布式集群</h1><div class="post-meta"><a href="/2017/08/12/Docker上部署Hadoop等完全分布式集群/#comments" class="comment-count"><i data-disqus-identifier="2017/08/12/Docker上部署Hadoop等完全分布式集群/" class="disqus-comment-count"></i>留言</a><p><span class="date">Aug 12, 2017</span><span><a href="/categories/Docker/" class="category">Docker</a></span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>阅读</i></i></span></p></div><div class="post-content"><p><img src="/2017/08/12/Docker&#x4E0A;&#x90E8;&#x7F72;Hadoop&#x7B49;&#x5B8C;&#x5168;&#x5206;&#x5E03;&#x5F0F;&#x96C6;&#x7FA4;/Docker&#x9996;&#x56FE;.png" width="300" height="200"></p>
<blockquote>
<font color="#0000FF" face="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="4">I wish life is just like a docker app, when U screwed it up, U can just start it over and nothing happened.</font>

</blockquote>
<h2 id="&#x4E00;&#x3001;Docker&#x7B80;&#x4ECB;"><a href="#&#x4E00;&#x3001;Docker&#x7B80;&#x4ECB;" class="headerlink" title="&#x4E00;&#x3001;Docker&#x7B80;&#x4ECB;"></a>&#x4E00;&#x3001;Docker&#x7B80;&#x4ECB;</h2><h3 id="1-What-is-Docker"><a href="#1-What-is-Docker" class="headerlink" title="1. What is Docker?"></a>1. What is Docker?</h3><p>&#x2003;&#x2003;<font color="#000000" size="5"><strong>&#x4EC0;</strong></font>&#x4E48;&#x662F;<a href="https://www.docker.com/what-docker" target="_blank" rel="noopener">Docker&#xFF1F;</a>&#x7528;&#x4E00;&#x53E5;&#x8BDD;&#x6765;&#x8868;&#x8FF0;&#x5C31;&#x662F;&#xFF1A;<font color="blue">Docker is the world&#x2019;s leading software container platform</font>&#xFF0C;&#x5373;Docker&#x662F;&#x4E00;&#x79CD;&#x8F6F;&#x4EF6;&#x5BB9;&#x5668;&#x5E73;&#x53F0;&#x3002;&#x5BF9;&#x4E8E;&#x4E2A;&#x4EBA;&#x5F00;&#x53D1;&#x8005;&#x6765;&#x8BF4;&#xFF0C;&#x5B83;&#x5141;&#x8BB8;&#x4F60;&#x628A;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x548C;&#x6240;&#x9700;&#x7684;&#x73AF;&#x5883;&#x4E00;&#x8D77;&#x6253;&#x5305;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x5176;&#x5B83;&#x4EFB;&#x610F;&#x4E00;&#x4E2A;&#x540C;&#x6837;&#x652F;&#x6301;Docker&#x7684;&#x73AF;&#x5883;&#x4E0B;&#x91CD;&#x65B0;&#x90E8;&#x7F72;&#x3002;&#x6BD4;&#x5982;&#x4F60;&#x8F9B;&#x8F9B;&#x82E6;&#x82E6;&#x5728;&#x67D0;&#x53F0;&#x7535;&#x8111;&#x4E0A;&#x5F00;&#x53D1;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x62FF;&#x5230;&#x53E6;&#x4E00;&#x53F0;&#x4E0A;&#x5374;&#x8DD1;&#x4E0D;&#x8D77;&#x6765;&#xFF08;&#x7F3A;&#x5C11;&#x5E93;&#x3001;&#x4F9D;&#x8D56;&#x7B49;&#x7B49;&#x4E4B;&#x7C7B;&#x7684;&#xFF09;&#xFF0C;&#x4F7F;&#x7528;Docker&#x5C31;&#x4E0D;&#x4F1A;&#x6709;&#x8FD9;&#x6837;&#x7684;&#x95EE;&#x9898;&#x4E86;&#x3002;Docker&#x7684;&#x4F5C;&#x7528;&#x53EF;&#x4EE5;&#x7B80;&#x5355;&#x7C97;&#x66B4;&#x7684;&#x7406;&#x89E3;&#x4E3A;ghost&#x88C5;&#x673A;&#x3002;&#x6765;&#x81EA;Docker&#x5B98;&#x65B9;&#x7684;&#x8FD9;&#x4E2A;&#x56FE;&#x6216;&#x8BB8;&#x80FD;&#x7ED9;&#x4F60;&#x4E9B;&#x63D0;&#x793A;&#x3002;<br><a id="more"></a></p>
<div style="text-align:center"><br><img src="/2017/08/12/Docker&#x4E0A;&#x90E8;&#x7F72;Hadoop&#x7B49;&#x5B8C;&#x5168;&#x5206;&#x5E03;&#x5F0F;&#x96C6;&#x7FA4;/Docker&#x4F5C;&#x7528;&#x8BF4;&#x660E;&#x56FE;.png" width="400" height="300"><br><div align="center">&#x56FE;1-1&#x3000;&#x3000;What&#x2019;s Docker?</div><br></div>

<p>&#x2003;&#x2003;&#x5F53;&#x7136;&#xFF0C;&#x5BF9;&#x4E8E;&#x8FD0;&#x8425;&#x5546;&#xFF08;Operator&#xFF09;&#x4EE5;&#x53CA;&#x4F01;&#x4E1A;&#xFF08;Enterprise&#xFF09;&#x7528;&#x6237;&#x6765;&#x8BF4;&#xFF0C;&#x5176;&#x529F;&#x80FD;&#x8FDC;&#x8D85;&#x60F3;&#x8C61;&#xFF0C;&#x4F5C;&#x4E3A;&#x666E;&#x901A;&#x4F7F;&#x7528;&#x8005;&#x7684;&#x6211;&#x4EEC;&#x5E76;&#x4E0D;&#x5173;&#x5FC3;&#xFF0C;&#x5728;&#x6B64;&#x4E5F;&#x4E0D;&#x8FC7;&#x591A;&#x4ECB;&#x7ECD;&#xFF0C;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x53EF;&#x4EE5;&#x67E5;&#x9605;&#x5B98;&#x65B9;&#x7F51;&#x7AD9;&#x3002;</p>
<h3 id="2-Why-Docker"><a href="#2-Why-Docker" class="headerlink" title="2. Why Docker?"></a>2. Why Docker?</h3><p>&#x2003;&#x2003;Docker&#x7684;&#x4F5C;&#x7528;&#x6709;&#x70B9;&#x7C7B;&#x4F3C;&#x865A;&#x62DF;&#x673A;&#x8F6F;&#x4EF6;&#x5982;VMWare&#x3001;Virtualbox&#x7B49;&#xFF0C;&#x8FD9;&#x4E9B;&#x4EA7;&#x54C1;&#x529F;&#x80FD;&#x5DF2;&#x7ECF;&#x5341;&#x5206;&#x5F3A;&#x5927;&#x4E86;&#xFF0C;&#x90A3;&#x4E3A;&#x4F55;&#x8FD8;&#x8981;&#x91CD;&#x590D;&#x9020;&#x8F6E;&#x5B50;&#x5F04;&#x4E2A;&#x865A;&#x62DF;&#x5316;&#x7684;&#x8F6F;&#x4EF6;&#xFF1F;&#x7B54;&#x6848;&#x5C31;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x4F20;&#x7EDF;&#x865A;&#x62DF;&#x673A;&#x548C;Docker&#x7684;&#x67B6;&#x6784;&#x5BF9;&#x6BD4;&#x56FE;&#x4E2D;&#xFF1A;  </p>
<div style="text-align:center"><br><img src="/2017/08/12/Docker&#x4E0A;&#x90E8;&#x7F72;Hadoop&#x7B49;&#x5B8C;&#x5168;&#x5206;&#x5E03;&#x5F0F;&#x96C6;&#x7FA4;/Container diagram.png" width="400" height="300"><br><div align="center">&#x56FE;1-2&#x3000;&#x3000;Docker&#x67B6;&#x6784;&#x56FE;</div><br></div><br><img src="/2017/08/12/Docker&#x4E0A;&#x90E8;&#x7F72;Hadoop&#x7B49;&#x5B8C;&#x5168;&#x5206;&#x5E03;&#x5F0F;&#x96C6;&#x7FA4;/Virtual Machine diagram.png" width="400" height="300"><br><div align="center">&#x56FE;1-3&#x3000;&#x3000;VM&#x67B6;&#x6784;&#x56FE;</div> 

<p>&#x2003;&#x2003;&#x4ECE;&#x4E0A;&#x9762;&#x7684;&#x67B6;&#x6784;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x76F8;&#x6BD4;&#x4E8E;&#x4F20;&#x7EDF;&#x7684;&#x865A;&#x62DF;&#x673A;&#x8F6F;&#x4EF6;&#xFF0C;Docker&#x5E95;&#x5C42;&#x590D;&#x7528;&#x7A0B;&#x5EA6;&#x66F4;&#x9AD8;&#xFF0C;&#x6240;&#x6709;&#x7684;App&#x5171;&#x7528;<strong>&#x4E00;&#x5957;OS</strong>&#xFF0C;&#x5E94;&#x7528;&#x4E4B;&#x95F4;&#x5219;&#x901A;&#x8FC7;&#x6240;&#x8C13;&#x7684;<strong>Container</strong>&#x5B9E;&#x73B0;&#x9694;&#x79BB;&#xFF08;&#x89E3;&#x8026;&#xFF09;&#xFF0C;&#x800C;&#x4F20;&#x7EDF;&#x7684;VM&#x8981;&#x5B9E;&#x73B0;App&#x7684;&#x9694;&#x79BB;&#xFF0C;&#x53EA;&#x80FD;&#x901A;&#x8FC7;&#x65B0;&#x589E;&#x4E00;&#x5957;OS&#xFF08;&#x4E5F;&#x5373;&#x91CD;&#x65B0;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x865A;&#x62DF;&#x673A;&#xFF09;&#x5B9E;&#x73B0;&#x3002;<br>&#x2003;&#x2003;Docker&#x7684;&#x4F18;&#x70B9;&#x5C31;&#x5728;&#x4E8E;&#xFF1A;<br>&#x2003;&#x2003;&#x2003;&#x2003;1. <strong>&#x8F7B;&#x91CF;</strong>&#xFF0C;&#x5373;&#x4F7F;&#x5728;&#x4E00;&#x53F0;&#x914D;&#x7F6E;&#x4E00;&#x822C;&#x7684;&#x7B14;&#x8BB0;&#x672C;&#x4E0A;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x8F7B;&#x8F7B;&#x677E;&#x677E;&#x521B;&#x5EFA;&#x548C;&#x542F;&#x52A8;&#x8BB8;&#x591A;container&#xFF1B;<br>&#x2003;&#x2003;&#x2003;&#x2003;2. &#x9AD8;&#x6548;&#xFF0C;&#x5176;&#x521B;&#x5EFA;&#x3001;&#x542F;&#x52A8;&#x3001;&#x505C;&#x6B62;&#x7B49;&#x64CD;&#x4F5C;&#x901F;&#x5EA6;&#x90FD;&#x8F83;&#x5FEB;&#xFF0C;&#x6BEB;&#x4E0D;&#x900A;&#x8272;&#x4E8E;VMware&#x7B49;&#x8F6F;&#x4EF6;&#xFF1B;<br>&#x2003;&#x2003;&#x2003;&#x2003;3. &#x514D;&#x8D39;&#xFF0C;&#x5176;&#x793E;&#x533A;&#x7248;&#x5B8C;&#x5168;&#x514D;&#x8D39;&#xFF0C;&#x5E76;&#x4E14;&#x5BF9;&#x4E8E;&#x4E2A;&#x4EBA;&#x4F7F;&#x7528;&#x6765;&#x8BF4;&#xFF0C;&#x529F;&#x80FD;&#x5B8C;&#x5168;&#x591F;&#x7528;&#xFF1B;<br>&#x2003;&#x2003;&#x2003;&#x2003;4. <strong>&#x4FBF;&#x6377;</strong>&#xFF0C;&#x4F7F;&#x7528;Docker&#x4F60;&#x53EF;&#x4EE5;&#x975E;&#x5E38;&#x65B9;&#x4FBF;&#x7684;&#x6253;&#x5305;&#x3001;&#x5206;&#x53D1;&#x3001;&#x90E8;&#x7F72;&#x4F60;&#x7684;&#x5E94;&#x7528;&#xFF0C;&#x4FDD;&#x8BC1;&#x8DE8;&#x5E73;&#x53F0;&#x7684;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x5B9E;&#x73B0;&#x6301;&#x7EED;&#x90E8;&#x7F72;&#x548C;&#x6D4B;&#x8BD5;&#xFF1B;<br>&#x2003;&#x2003;&#x2003;&#x2003;5. &#x4E91;&#x5316;&#xFF0C;&#x652F;&#x6301;&#x90E8;&#x7F72;&#x5230;&#x4E91;&#x7AEF;&#xFF0C;&#x5305;&#x62EC;Amazon&#x7684;AWS&#x3001;Microsoft&#x7684;Azure&#x7B49;&#x7B49;&#xFF1B;</p>
<h3 id="3-Which-platforms"><a href="#3-Which-platforms" class="headerlink" title="3. Which platforms?"></a>3. Which platforms?</h3><p>&#x2003;&#x2003;&#x622A;&#x6B62;&#x5230;&#x672C;&#x6587;&#x6210;&#x7A3F;&#x65F6;&#xFF08;2017-08-12&#xFF09;&#x4E3A;&#x6B62;&#xFF0C;&#x5DF2;&#x652F;&#x6301;&#x5E73;&#x53F0;&#x5982;&#x4E0B;&#xFF1A;</p>
<table>
<thead>
<tr>
<th></th>
<th style="text-align:center">&#x684C;&#x9762;</th>
<th style="text-align:center">&#x670D;&#x52A1;&#x5668;</th>
<th style="text-align:center">&#x4E91;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x793E;&#x533A;&#x7248;</td>
<td style="text-align:center">MacOS&#x3001;Windows&#x3001;<br> Linux(Desktop Distribution)</td>
<td style="text-align:center">Windows Server&#x3001;CentOS&#x3001;Debian&#x3001;Fedora&#x3001;SLES&#x3001;Ubuntu</td>
<td style="text-align:center">AWS&#x3001;Azure</td>
</tr>
<tr>
<td>&#x4F01;&#x4E1A;&#x7248;</td>
<td style="text-align:center">&#x540C;&#x793E;&#x533A;&#x7248;</td>
<td style="text-align:center">Windows Server&#x3001;CentOS&#x3001;Debian&#x3001;Fedora&#x3001;<br> Oracle Linux&#x3001;RHEL&#x3001;SLES&#x3001;Ubuntu</td>
<td style="text-align:center">&#x540C;&#x793E;&#x533A;&#x7248;</td>
</tr>
</tbody>
</table>
<p>&#x2003;&#x2003;&#x4ECE;&#x4E0A;&#x9762;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x5C31;&#x652F;&#x6301;&#x7684;&#x5E73;&#x53F0;&#x800C;&#x8A00;&#xFF0C;&#x793E;&#x533A;&#x7248;&#x76F8;&#x5BF9;&#x4E8E;&#x4F01;&#x4E1A;&#x7248;&#x4EC5;&#x4EC5;&#x5C11;&#x4E86;&#x4E24;&#x4E2A;&#x5546;&#x4E1A;&#x5316;Linux&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;RHEL&#x3001;Oracle Linux&#x7684;&#x652F;&#x6301;&#x3002;</p>
<h3 id="4-Basic-terms"><a href="#4-Basic-terms" class="headerlink" title="4. Basic terms?"></a>4. Basic terms?</h3><p>&#x2003;&#x2003;&#x8981;&#x7406;&#x89E3;Docker&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x638C;&#x63E1;&#x4E00;&#x4E9B;&#x57FA;&#x672C;&#x672F;&#x8BED;&#xFF1A;</p>
<table>
<thead>
<tr>
<th style="text-align:center">&#x4E2D;&#x6587;</th>
<th style="text-align:center">&#x82F1;&#x6587;</th>
<th style="text-align:center">&#x89E3;&#x91CA;</th>
<th style="text-align:center">&#x5907;&#x6CE8;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">&#x955C;&#x50CF;</td>
<td style="text-align:center">Image</td>
<td style="text-align:center">&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;ISO&#x6587;&#x4EF6;&#xFF0C;&#x6839;&#x636E;&#x955C;&#x50CF;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5B9E;&#x4F53;&#x7684;container</td>
<td style="text-align:center">&#x4E5F;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7F16;&#x7A0B;&#x4E2D;&#x7684;&#x7C7B;</td>
</tr>
<tr>
<td style="text-align:center">&#x5BB9;&#x5668;</td>
<td style="text-align:center">Container</td>
<td style="text-align:center">&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;ISO&#x6587;&#x4EF6;&#x5B89;&#x88C5;&#x597D;&#x7684;&#x7CFB;&#x7EDF;</td>
<td style="text-align:center">&#x4E5F;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7F16;&#x7A0B;&#x4E2D;&#x7684;&#x5BF9;&#x8C61;</td>
</tr>
<tr>
<td style="text-align:center">&#x4ED3;&#x5E93;</td>
<td style="text-align:center">Repository</td>
<td style="text-align:center">&#x5B58;&#x653E;&#x955C;&#x50CF;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x5206;&#x79C1;&#x6709;&#x548C;&#x516C;&#x6709;&#x4ED3;&#x5E93;&#xFF0C;<br> &#x91CC;&#x9762;&#x7684;&#x955C;&#x50CF;&#x53C8;&#x5206;&#x4E3A;&#x5B98;&#x65B9;&#x548C;&#x975E;&#x5B98;&#x65B9;</td>
<td style="text-align:center">&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4ECE;&#x4ED3;&#x5E93;&#x83B7;&#x53D6;(pull)&#x6216;&#x5411;&#x4ED3;&#x5E93;&#x4E0A;&#x4F20;(push)&#x60F3;&#x8981;&#x7684;&#x955C;&#x50CF;</td>
</tr>
</tbody>
</table>
<h2 id="&#x4E8C;&#x3001;Docker&#x5E94;&#x7528;&#x5B9E;&#x8DF5;"><a href="#&#x4E8C;&#x3001;Docker&#x5E94;&#x7528;&#x5B9E;&#x8DF5;" class="headerlink" title="&#x4E8C;&#x3001;Docker&#x5E94;&#x7528;&#x5B9E;&#x8DF5;"></a>&#x4E8C;&#x3001;Docker&#x5E94;&#x7528;&#x5B9E;&#x8DF5;</h2><p>&#x2003;&#x2003;&#x9274;&#x4E8E;Docker&#x7684;&#x4F18;&#x826F;&#x7279;&#x6027;&#xFF0C;&#x5B83;&#x76EE;&#x524D;&#x5DF2;&#x88AB;&#x4E2A;&#x4EBA;&#x5F00;&#x53D1;&#x8005;&#x548C;&#x4F01;&#x4E1A;&#x5E7F;&#x6CDB;&#x4F7F;&#x7528;&#x3002;&#x6700;&#x521D;&#x63A5;&#x89E6;Docker&#x662F;&#x5728;&#x516C;&#x53F8;&#xFF0C;&#x5F53;&#x65F6;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x65B0;&#x589E;&#x4E00;&#x4E9B;&#x65B0;&#x529F;&#x80FD;&#xFF0C;&#x7531;&#x4E8E;&#x670D;&#x52A1;&#x5668;&#x592A;&#x8FC7;&#x91CD;&#x8981;&#xFF0C;&#x4E0D;&#x6562;&#x8F7B;&#x6613;&#x53BB;&#x52A8;&#xFF0C;&#x65B0;&#x529F;&#x80FD;&#x7684;&#x5F00;&#x53D1;&#x53C8;&#x9700;&#x8981;&#x4F9D;&#x8D56;&#x4E8E;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x4E00;&#x4E9B;&#x5E94;&#x7528;&#x548C;&#x73AF;&#x5883;&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x5C1D;&#x8BD5;&#x628A;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x9700;&#x8981;&#x7684;&#x5E94;&#x7528;&#x548C;&#x73AF;&#x5883;&#x6253;&#x5305;&#xFF0C;&#x7528;Docker&#x5728;&#x53E6;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x4E0A;&#x6784;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#xFF0C;&#x7B49;&#x5F00;&#x53D1;&#x3001;&#x6D4B;&#x8BD5;&#x90FD;OK&#x540E;&#xFF0C;&#x518D;&#x90E8;&#x7F72;&#x5230;&#x751F;&#x4EA7;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x3002;<br>&#x2003;&#x2003;&#x7528;&#x4E86;&#x4E4B;&#x540E;&#x53D1;&#x73B0;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x86EE;&#x4E0D;&#x9519;&#x7684;&#xFF0C;&#x7279;&#x522B;&#x5BF9;&#x4E8E;&#x4E00;&#x4E9B;&#x642D;&#x5EFA;&#x548C;&#x914D;&#x7F6E;&#x975E;&#x5E38;&#x7E41;&#x7410;&#x7684;app&#x6216;&#x73AF;&#x5883;&#xFF08;&#x6BD4;&#x5982;&#x5206;&#x5E03;&#x5F0F;&#x8BA1;&#x7B97;&#x5E73;&#x53F0;&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x5927;&#x5927;&#x8282;&#x7701;&#x4F60;&#x7684;&#x5DE5;&#x4F5C;&#x91CF;&#x3002;&#x50CF;&#x5206;&#x5E03;&#x5F0F;&#x8BA1;&#x7B97;&#x5E73;&#x53F0;&#x8FD9;&#x79CD;&#xFF0C;&#x4E0D;&#x4EC5;&#x4EC5;&#x914D;&#x7F6E;&#x7E41;&#x7410;&#x5BB9;&#x6613;&#x51FA;&#x9519;&#xFF0C;&#x5BF9;&#x786C;&#x4EF6;&#x8981;&#x6C42;&#x4E5F;&#x4E0D;&#x4F4E;&#xFF0C;&#x6BD4;&#x5982;&#x4F60;&#x60F3;&#x6784;&#x5EFA;&#x4E00;&#x4E2A;5&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x96C6;&#x7FA4;&#xFF0C;&#x8981;&#x4E48;&#x5728;&#x4E00;&#x53F0;&#x914D;&#x7F6E;&#x975E;&#x5E38;&#x597D;&#x7684;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x5EFA;&#x4E94;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x865A;&#x62DF;&#x673A;&#x5B9E;&#x73B0;&#xFF0C;&#x8981;&#x4E48;&#x4E70;&#x4E94;&#x53F0;&#x914D;&#x7F6E;&#x4E00;&#x822C;&#x7684;&#x666E;&#x901A;&#x5546;&#x7528;PC&#x6765;&#x642D;&#x5EFA;&#x3002;&#x8FD9;&#x4E24;&#x79CD;&#x65B9;&#x6848;&#xFF0C;&#x4E0D;&#x4EC5;&#x4EC5;&#x8017;&#x8D44;&#x8F83;&#x591A;&#xFF0C;&#x800C;&#x4E14;&#x4F7F;&#x7528;&#x4E0A;&#x4E0D;&#x592A;&#x65B9;&#x4FBF;&#xFF0C;&#x6BD4;&#x5982;&#x6211;&#x60F3;&#x5728;&#x516C;&#x53F8;&#x4E5F;&#x80FD;&#x7528;&#x8FD9;&#x4E2A;&#x96C6;&#x7FA4;&#xFF0C;&#x4F60;&#x603B;&#x4E0D;&#x80FD;&#x628A;&#x96C6;&#x7FA4;&#x80CC;&#x5230;&#x516C;&#x53F8;&#x53BB;&#x5427;&#x3002;&#x5F53;&#x7136;&#x4F60;&#x53EF;&#x4EE5;&#x7ED9;&#x96C6;&#x7FA4;&#x4E70;&#x4E2A;&#x57DF;&#x540D;&#x3001;&#x5F04;&#x4E2A;&#x516C;&#x7F51;IP&#x5565;&#x7684;&#xFF0C;&#x5230;&#x54EA;&#x90FD;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#xFF0C;&#x4F46;&#x8FD9;&#x4E5F;&#x610F;&#x5473;&#x7740;&#x628A;&#x4F60;&#x7684;&#x96C6;&#x7FA4;&#x76F4;&#x63A5;&#x66B4;&#x9732;&#x5728;&#x4E92;&#x8054;&#x7F51;&#x4E0A;&#xFF0C;&#x5176;&#x5B89;&#x5168;&#x6027;&#x4E0D;&#x8A00;&#x800C;&#x55BB;&#xFF0C;&#x51B5;&#x4E14;&#x516C;&#x7F51;IP&#x4E5F;&#x4E0D;&#x662F;&#x4F60;&#x60F3;&#x5F04;&#x5C31;&#x80FD;&#x5F04;&#x5F97;&#xFF0C;&#x4EC0;&#x4E48;&#x79FB;&#x52A8;&#x3001;&#x7231;&#x666E;&#x7684;&#x6E23;&#x7F51;&#x5C31;&#x522B;&#x60F3;&#x4E86;&#xFF0C;&#x82B1;&#x751F;&#x58F3;&#x514D;&#x8D39;&#x7248;&#x53EA;&#x652F;&#x6301;&#x7535;&#x4FE1;&#xFF0C;&#x57DF;&#x540D;&#x4E5F;&#x662F;&#x8981;&#x82B1;&#x94B1;&#x7684;&#x3002;<br>&#x2003;&#x2003;&#x6709;&#x4E86;Docker&#xFF0C;&#x6240;&#x6709;&#x7684;&#x95EE;&#x9898;&#x90FD;&#x4E0D;&#x662F;&#x95EE;&#x9898;&#x4E86;&#xFF0C;&#x4E00;&#x53F0;&#x914D;&#x7F6E;&#x7A0D;&#x597D;&#xFF08;&#x5185;&#x5B58;4G+&#xFF0C;&#x63A8;&#x8350;8G&#xFF0C;CPU&#x53CC;&#x6838;+&#xFF0C;&#x63A8;&#x8350;&#x9177;&#x777F;2&#x4EE5;&#x540E;&#x7684;&#xFF09;&#x7684;&#x7B14;&#x8BB0;&#x672C;&#x6216;&#x8005;&#x53F0;&#x5F0F;&#x673A;&#x5C31;&#x80FD;&#x6EE1;&#x8DB3;&#x4F60;&#x7684;&#x8981;&#x6C42;&#xFF0C;&#x9ED1;&#x5A01;&#x591F;&#xFF0C;Cluster-In-Pocket&#xFF01;</p>
<h3 id="2-1-&#x9700;&#x8981;&#x8F6F;&#x4EF6;"><a href="#2-1-&#x9700;&#x8981;&#x8F6F;&#x4EF6;" class="headerlink" title="2.1 &#x9700;&#x8981;&#x8F6F;&#x4EF6;"></a>2.1 &#x9700;&#x8981;&#x8F6F;&#x4EF6;</h3><p>&#x2003;&#x2003;&#x6309;&#x672C;&#x6587;&#x90E8;&#x7F72;&#x6240;&#x9700;&#x8F6F;&#x4EF6;&#x5217;&#x8868;&#x53CA;&#x5176;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x5982;&#x4E0B;&#xFF1A;</p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">&#x7248;&#x672C;&#x53F7;</th>
<th style="text-align:center">&#x8F6F;&#x4EF6;&#x5305;&#x5168;&#x540D;</th>
<th style="text-align:center">&#x4F9D;&#x8D56;&#x8F6F;&#x4EF6;&#x6216;&#x73AF;&#x5883;</th>
<th style="text-align:center">&#x4F5C;&#x7528;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Win7</td>
<td style="text-align:center">X86_64</td>
<td style="text-align:center">&#x2013;</td>
<td style="text-align:center">&#x4E00;&#x53F0;&#x7535;&#x8111;</td>
<td style="text-align:center">&#x5B89;&#x88C5;VMWare</td>
</tr>
<tr>
<td style="text-align:center">*VMware</td>
<td style="text-align:center">12</td>
<td style="text-align:center">VMware12</td>
<td style="text-align:center">Win7<br> X86_64</td>
<td style="text-align:center">&#x521B;&#x5EFA;&#x4E00;&#x4E2A;Ubuntu&#x865A;&#x62DF;&#x673A;</td>
</tr>
<tr>
<td style="text-align:center">*Ubuntu</td>
<td style="text-align:center">16.04<br> X86_64</td>
<td style="text-align:center">ubuntu-16.04-desktop-amd64.iso</td>
<td style="text-align:center">VMware12</td>
<td style="text-align:center">&#x7ED9;Docker&#x63D0;&#x4F9B;&#x5BC4;&#x751F;&#x73AF;&#x5883;</td>
</tr>
<tr>
<td style="text-align:center">Docker</td>
<td style="text-align:center">1.30</td>
<td style="text-align:center">docker<br>&#xFF08;&#x4F7F;&#x7528;apt-get install docker&#x5B89;&#x88C5;&#xFF09;</td>
<td style="text-align:center">Ubuntu16.04_X86_64<br> Kernel-4.4.0-21-generic</td>
<td style="text-align:center">&#x5206;&#x5E03;&#x5F0F;&#x8BA1;&#x7B97;&#x5E73;&#x53F0;&#x7684;&#x57FA;&#x7840;</td>
</tr>
<tr>
<td style="text-align:center">latest</td>
<td style="text-align:center">&#x2013;</td>
<td style="text-align:center">ubuntu:latest</td>
<td style="text-align:center">Docker<br> &#xFF08;&#x901A;&#x8FC7;Docker pull &#x547D;&#x4EE4;&#x4ECE;&#x955C;&#x50CF;&#x7AD9;&#x70B9;&#x62C9;&#x53D6;&#xFF09;</td>
<td style="text-align:center">&#x6240;&#x6709;&#x540E;&#x7EED;Docker&#x955C;&#x50CF;&#x4E4B;&#x6BCD;</td>
</tr>
<tr>
<td style="text-align:center">*django</td>
<td style="text-align:center">v9</td>
<td style="text-align:center">flat2010:djangov9</td>
<td style="text-align:center">ubuntu:latest</td>
<td style="text-align:center">hadoop-base&#x955C;&#x50CF;&#x7684;&#x57FA;&#x7840;&#x955C;&#x50CF;&#xFF0C;&#x76F8;&#x6BD4;&#x4E8E;latest&#x955C;&#x50CF;&#xFF0C;&#x5B89;&#x88C5;&#x4E86;django&#x3001;mysql&#x7B49;&#x4E00;&#x4E9B;&#x8F6F;&#x4EF6;</td>
</tr>
<tr>
<td style="text-align:center">hadoop-base</td>
<td style="text-align:center">&#x2013;</td>
<td style="text-align:center">flat2010:hadoop-base</td>
<td style="text-align:center">flat2010:djangov9<br> jdk-8u111-linux-x64.tar.gz<br> hadoop-2.6.5.tar.gz<br></td>
<td style="text-align:center">&#x96C6;&#x7FA4;master&#x548C;slave&#x7684;&#x5171;&#x540C;&#x57FA;&#x7840;&#x955C;&#x50CF;</td>
</tr>
<tr>
<td style="text-align:center">hadoop-master</td>
<td style="text-align:center">&#x2013;</td>
<td style="text-align:center">flat2010:hadoop-master</td>
<td style="text-align:center"><font color="blue" size="4">@hadoop-base<br> <font color="blue" size="4">@zookeeper-3.4.10.tar.gz<br> hbase-1.2.6-bin.tar.gz<br> <font color="blue" size="4">@scala-2.10.6.tgz</font><br> <font color="blue" size="4">@spark-1.6.2-bin-hadoop2.6.tgz</font></font></font></td>
<td style="text-align:center">&#x521B;&#x5EFA;Hadoop&#x96C6;&#x7FA4;master&#x8282;&#x70B9;&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x662F;Spark Master&#x7684;&#x57FA;&#x7840;&#x955C;&#x50CF;</td>
</tr>
<tr>
<td style="text-align:center">hadoop-slave</td>
<td style="text-align:center">&#x2013;</td>
<td style="text-align:center">flat2010:hadoop-slave</td>
<td style="text-align:center">&#x540C;&#x4E0A;</td>
<td style="text-align:center">&#x521B;&#x5EFA;Hadoop&#x96C6;&#x7FA4;slave&#x8282;&#x70B9;&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x662F;Spark Slave&#x7684;&#x57FA;&#x7840;&#x955C;&#x50CF;</td>
</tr>
<tr>
<td style="text-align:center">*docker-compose</td>
<td style="text-align:center">1.15.0</td>
<td style="text-align:center">docker-compose<br> &#xFF08;&#x901A;&#x8FC7;pip install&#x5B89;&#x88C5;&#xFF09;</td>
<td style="text-align:center">hadoop-slave<br>  hadoop-master<br> python2.7(with pip installed)</td>
<td style="text-align:center">&#x521B;&#x5EFA;Spark&#x96C6;&#x7FA4;master&#x3001;slave&#x8282;&#x70B9;</td>
</tr>
</tbody>
</table>
<p>&#x2003;&#x2003;<font color="red">&#x6CE8;&#xFF1A;&#x8868;&#x683C;&#x4E2D;&#x7B2C;&#x4E00;&#x5217;&#x5E26;&#x201C;*&#x201D;&#x53F7;&#x7684;&#x5C5E;&#x4E8E;&#x975E;&#x5FC5;&#x987B;&#x7684;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x9700;&#x6C42;&#x589E;&#x5220;&#xFF0C;&#x4F9D;&#x8D56;&#x8F6F;&#x4EF6;&#x6216;&#x73AF;&#x5883;&#x4E2D;&#x4EE5;@&#x5F00;&#x5934;&#x7684;&#x8F6F;&#x4EF6;&#x5305;&#x5C5E;&#x4E8E;&#x6784;&#x5EFA;Spark&#x5E73;&#x53F0;&#x8981;&#x7528;&#x5230;&#x7684;&#x6216;&#x8005;&#x5C5E;&#x4E8E;&#x975E;Hadoop&#x5FC5;&#x987B;&#x7684;&#x8F6F;&#x4EF6;&#xFF0C;&#x4E5F;&#x8BF7;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x9700;&#x6C42;&#x5B9A;&#x5236;&#x3002;</font></p>
<p>&#x2003;&#x2003;&#x8868;&#x683C;&#x53EF;&#x80FD;&#x4E0D;&#x592A;&#x76F4;&#x89C2;&#xFF0C;&#x53EF;&#x4EE5;&#x7ED3;&#x5408;&#x4E0B;&#x9762;&#x4E24;&#x4E2A;&#x56FE;&#x6765;&#x7406;&#x89E3;&#xFF1A;<br><img src="/2017/08/12/Docker&#x4E0A;&#x90E8;&#x7F72;Hadoop&#x7B49;&#x5B8C;&#x5168;&#x5206;&#x5E03;&#x5F0F;&#x96C6;&#x7FA4;/&#x7ED3;&#x6784;&#x53CA;&#x6784;&#x5EFA;&#x6D41;&#x7A0B;&#x56FE;.png" alt="&#x56FE;1 - 4 &#x2003;&#x2003; &#x7ED3;&#x6784;&#x53CA;&#x955C;&#x50CF;&#x5173;&#x7CFB;&#x56FE;"></p>
<h3 id="2-2-&#x90E8;&#x7F72;&#x8BF4;&#x660E;"><a href="#2-2-&#x90E8;&#x7F72;&#x8BF4;&#x660E;" class="headerlink" title="2.2 &#x90E8;&#x7F72;&#x8BF4;&#x660E;"></a>2.2 &#x90E8;&#x7F72;&#x8BF4;&#x660E;</h3><p>&#x2003;&#x2003;&#x5982;&#x679C;&#x60F3;&#x8DDF;&#x7740;&#x672C;&#x6559;&#x7A0B;&#x4E00;&#x6B65;&#x4E00;&#x6B65;&#x5B89;&#x88C5;&#x90E8;&#x7F72;&#xFF0C;&#x8BF7;&#x52A1;&#x5FC5;&#x5148;&#x9605;&#x8BFB;&#x4E0B;&#x9762;&#x7684;&#x5B89;&#x88C5;&#x90E8;&#x7F72;&#x8BF4;&#x660E;&#x3002;&#x5982;&#x679C;&#x89C9;&#x5F97;&#x9EBB;&#x70E6;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x62F7;&#x8D1D;&#x76F8;&#x5173;&#x6587;&#x4EF6;&#xFF0C;&#x81EA;&#x5DF1;build&#x955C;&#x50CF;&#x3002;&#x5F53;&#x7136;&#x6700;&#x6700;&#x7701;&#x5FC3;&#x7684;&#x529E;&#x6CD5;&#x662F;&#xFF0C;&#x62F7;&#x8D1D;&#x6211;&#x5DF2;&#x7ECF;&#x6784;&#x5EFA;&#x597D;&#x7684;&#x955C;&#x50CF;&#xFF0C;&#x76F4;&#x63A5;&#x8FD0;&#x884C;&#x5373;&#x53EF;&#xFF0C;<font color="red">&#x4E0B;&#x8F7D;&#x94FE;&#x63A5;&#x89C1;&#x6587;&#x7AE0;&#x672B;&#x5C3E;&#x3002;</font></p>
<h4 id="2-2-1-&#x7D27;&#x8026;&#x5408;&#x95EE;&#x9898;"><a href="#2-2-1-&#x7D27;&#x8026;&#x5408;&#x95EE;&#x9898;" class="headerlink" title="2.2.1 &#x7D27;&#x8026;&#x5408;&#x95EE;&#x9898;"></a>2.2.1 &#x7D27;&#x8026;&#x5408;&#x95EE;&#x9898;</h4><p>&#x2003;&#x2003;Docker&#x7684;&#x8BBE;&#x8BA1;&#x521D;&#x8877;&#x5C31;&#x662F;&#x4E3A;&#x4E86;&#x4FBF;&#x4E8E;&#x9694;&#x79BB;&#x4E0D;&#x540C;&#x7684;App&#xFF0C;&#x5B9E;&#x73B0;&#x677E;&#x8026;&#x5408;&#xFF0C;&#x56E0;&#x6B64;Docker&#x955C;&#x50CF;&#x7684;&#x6784;&#x5EFA;&#x539F;&#x5219;&#x57FA;&#x672C;&#x4E0A;&#x662F;&#x4E00;&#x4E2A;App&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x955C;&#x50CF;&#xFF0C;&#x8FD9;&#x6837;&#x6BCF;&#x4E00;&#x4E2A;Container&#x4EC5;&#x4EC5;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;App&#xFF0C;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;Container&#x4E2D;&#x7684;App&#x51FA;&#x4E86;&#x95EE;&#x9898;&#x90FD;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x5176;&#x4ED6;Container&#x4E2D;&#x7684;App&#x3002;&#x4F46;&#x662F;&#x672C;&#x6559;&#x7A0B;&#x5E76;&#x6CA1;&#x6709;&#x4E25;&#x683C;&#x6309;&#x7167;&#x8FD9;&#x4E2A;&#x7EA6;&#x675F;&#x6765;&#x505A;&#xFF0C;&#x800C;&#x662F;&#x628A;Hadoop&#x3001;Spark&#x3001;Hbase&#x3001;Zookeeper&#x6574;&#x5408;&#x5230;&#x4E86;&#x4E00;&#x8D77;&#xFF0C;&#x4E4B;&#x6240;&#x4EE5;&#x8FD9;&#x4E48;&#x505A;&#x662F;&#x8003;&#x8651;&#x5230;&#x4E00;&#x6765;&#x672C;&#x8EAB;&#x8FD9;&#x4E9B;&#x8F6F;&#x4EF6;&#x8026;&#x5408;&#x5EA6;&#x5C31;&#x8F83;&#x9AD8;&#xFF0C;&#x5206;&#x5F00;&#x90E8;&#x7F72;&#x53CD;&#x800C;&#x4E0D;&#x592A;&#x65B9;&#x4FBF;&#xFF08;&#x5B9E;&#x9645;&#x4E0A;Spark&#x3001;Hbase&#x7684;&#x8FD0;&#x884C;&#x90FD;&#x8981;&#x4F9D;&#x8D56;Hadoop&#xFF09;&#x3002;&#x4E8C;&#x6765;&#xFF0C;&#x6211;&#x7684;&#x4E3B;&#x8981;&#x9700;&#x6C42;&#x662F;All-in-one&#xFF0C;&#x800C;&#x5E76;&#x975E;&#x5E94;&#x7528;&#x4E4B;&#x95F4;&#x7684;&#x72EC;&#x7ACB;&#x6027;&#xFF0C;&#x56E0;&#x6B64;&#x8026;&#x5408;&#x6027;&#x5E76;&#x975E;&#x8003;&#x8651;&#x91CD;&#x70B9;&#x3002;</p>
<h4 id="2-2-2-&#x53EF;&#x9009;&#x5B89;&#x88C5;&#x5305;"><a href="#2-2-2-&#x53EF;&#x9009;&#x5B89;&#x88C5;&#x5305;" class="headerlink" title="2.2.2 &#x53EF;&#x9009;&#x5B89;&#x88C5;&#x5305;"></a>2.2.2 &#x53EF;&#x9009;&#x5B89;&#x88C5;&#x5305;</h4><p>&#x2003;&#x2003;&#x672C;&#x6559;&#x7A0B;&#x4E2D;&#x6709;&#x4E9B;&#x5B89;&#x88C5;&#x5305;&#x5E76;&#x975E;&#x5FC5;&#x987B;&#x7684;&#xFF0C;&#x8BF7;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x9700;&#x6C42;&#x8FDB;&#x884C;&#x589E;&#x5220;&#x3002;&#x6BD4;&#x5982;Zookeeper&#x53EF;&#x4EE5;&#x7528;Hbase&#x81EA;&#x5E26;&#x7684;&#xFF0C;&#x800C;&#x5982;&#x679C;&#x4E0D;&#x9700;&#x8981;Spark&#x5E73;&#x53F0;&#x7684;&#x8BDD;&#xFF0C;Scala&#x548C;Spark&#x7684;&#x5B89;&#x88C5;&#x5305;&#x90FD;&#x53EF;&#x4EE5;&#x4E0D;&#x8981;&#xFF0C;&#x8FD8;&#x80FD;&#x51CF;&#x5C0F;&#x6784;&#x5EFA;&#x51FA;&#x6765;&#x7684;&#x955C;&#x50CF;&#x7684;&#x5927;&#x5C0F;&#x3002;</p>
<h4 id="2-2-3-&#x96C6;&#x7FA4;&#x89C4;&#x5212;"><a href="#2-2-3-&#x96C6;&#x7FA4;&#x89C4;&#x5212;" class="headerlink" title="2.2.3 &#x96C6;&#x7FA4;&#x89C4;&#x5212;"></a>2.2.3 &#x96C6;&#x7FA4;&#x89C4;&#x5212;</h4><p>&#x2003;&#x2003;&#x96C6;&#x7FA4;&#x5927;&#x5C0F;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x673A;&#x5668;&#x914D;&#x7F6E;&#x6765;&#xFF0C;&#x4F46;&#x662F;&#x6709;&#x4E00;&#x70B9;&#x52A1;&#x5FC5;&#x8981;&#x6CE8;&#x610F;&#xFF0C;&#x89C4;&#x5212;&#x96C6;&#x7FA4;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x96C6;&#x7FA4;&#x6570;&#x91CF;&#xFF08;&#x542B;master&#xFF09;&#x6700;&#x597D;&#x662F;&#x5947;&#x6570;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5076;&#x6570;&#xFF08;&#x56E0;&#x4E3A;Zookeeper&#x7684;leader&#x9009;&#x4E3E;&#x7B97;&#x6CD5;&#x9700;&#x8981;&#x6839;&#x636E;&#x5F97;&#x7968;&#x6570;&#x6765;&#x786E;&#x5B9A;leader&#xFF0C;&#x5076;&#x6570;&#x4E2A;&#x8282;&#x70B9;&#x5F88;&#x5BB9;&#x6613;&#x5BFC;&#x81F4;&#x9009;&#x7968;&#x6301;&#x5E73;&#x95EE;&#x9898;&#xFF09;&#x3002;&#x672C;&#x6559;&#x7A0B;&#x96C6;&#x7FA4;&#x89C4;&#x5212;&#x5982;&#x4E0B;&#x8868;&#xFF1A;</p>
<table>
<thead>
<tr>
<th style="text-align:center">&#x5BB9;&#x5668;&#x540D;</th>
<th style="text-align:center">&#x4E3B;&#x673A;&#x540D;</th>
<th style="text-align:center">IP&#x5730;&#x5740;</th>
<th style="text-align:center">&#x8282;&#x70B9;&#x7C7B;&#x578B;</th>
<th style="text-align:center">&#x6240;&#x5C5E;&#x7F51;&#x7EDC;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">spark-master</td>
<td style="text-align:center">spark-master</td>
<td style="text-align:center">192.168.3.110</td>
<td style="text-align:center">Namenode</td>
<td style="text-align:center">cluster/bridge</td>
</tr>
<tr>
<td style="text-align:center">spark-slave1</td>
<td style="text-align:center">spark-slave1</td>
<td style="text-align:center">192.168.3.111</td>
<td style="text-align:center">Datanode</td>
<td style="text-align:center">cluster/bridge</td>
</tr>
<tr>
<td style="text-align:center">spark-slave2</td>
<td style="text-align:center">spark-slave2</td>
<td style="text-align:center">192.168.3.112</td>
<td style="text-align:center">Datanode</td>
<td style="text-align:center">cluster/bridge</td>
</tr>
<tr>
<td style="text-align:center">spark-slave3</td>
<td style="text-align:center">spark-slave3</td>
<td style="text-align:center">192.168.3.113</td>
<td style="text-align:center">Datanode</td>
<td style="text-align:center">cluster/bridge</td>
</tr>
<tr>
<td style="text-align:center">spark-slave4</td>
<td style="text-align:center">spark-slave4</td>
<td style="text-align:center">192.168.3.114</td>
<td style="text-align:center">Datanode</td>
<td style="text-align:center">cluster/bridge</td>
</tr>
</tbody>
</table>
<p>&#x2003;&#x2003;<font color="blue">&#x96C6;&#x7FA4;&#x5927;&#x5C0F;&#xFF1A;5&#xFF0C;&#x6240;&#x5C5E;&#x7F51;&#x6BB5;&#xFF1A;192.168.3.0/24&#x3002;</font></p>
<h4 id="2-2-4-&#x9759;&#x6001;IP&#x95EE;&#x9898;"><a href="#2-2-4-&#x9759;&#x6001;IP&#x95EE;&#x9898;" class="headerlink" title="2.2.4 &#x9759;&#x6001;IP&#x95EE;&#x9898;"></a>2.2.4 &#x9759;&#x6001;IP&#x95EE;&#x9898;</h4><p>&#x2003;&#x2003;&#x8981;&#x7528;&#x96C6;&#x7FA4;&#x7684;&#x8BDD;&#xFF0C;&#x80AF;&#x5B9A;&#x9700;&#x8981;&#x9759;&#x6001;IP&#xFF0C;&#x5E76;&#x4E14;&#x9700;&#x8981;&#x6307;&#x660E;hostname&#xFF0C;&#x9700;&#x8981;&#x5728;&#x542F;&#x52A8;Container&#x65F6;&#x6307;&#x5B9A;Container&#x7684;IP&#x5730;&#x5740;&#xFF0C;&#x4EE5;&#x53CA;hostanme&#x3002;&#x5982;&#x679C;&#x4F7F;&#x7528;docker-compose&#x7684;&#x8BDD;&#xFF0C;&#x5728;yml&#x6587;&#x4EF6;&#x4E2D;&#x4F7F;&#x7528;&#x5982;&#x4E0B;&#x53C2;&#x6570;&#x914D;&#x7F6E;&#xFF1A;<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x6307;&#x5B9A;&#x5BB9;&#x5668;IP&#xFF0C;&#x96B6;&#x5C5E;&#x4E8E;&#x540D;&#x4E3A;cluster&#x7684;&#x7F51;&#x7EDC;</span></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line"><span class="attr">  cluster:</span></span><br><span class="line"><span class="attr">    ipv4_address:</span> <span class="number">192.168</span><span class="number">.3</span><span class="number">.114</span></span><br><span class="line">		  </span><br><span class="line"><span class="comment"># &#x5B9A;&#x4E49;&#x540D;&#x4E3A;cluster&#x7684;&#x7F51;&#x7EDC;</span></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line"><span class="attr">  cluster:</span></span><br><span class="line"><span class="attr">    driver:</span> bridge  //&#x7F51;&#x7EDC;&#x7C7B;&#x578B;&#x4E3A;&#x6865;&#x63A5;</span><br><span class="line"><span class="attr">    ipam:</span> //&#x5982;&#x679C;&#x7F51;&#x7EDC;&#x7C7B;&#x578B;&#x662F;bridge&#x7684;&#x8BDD;&#xFF0C;&#x9700;&#x8981;&#x540C;&#x65F6;&#x5B9A;&#x4E49;ipam&#x53C2;&#x6570;</span><br><span class="line"><span class="attr">      driver:</span> default</span><br><span class="line"><span class="attr">      config:</span></span><br><span class="line"><span class="bullet">      -</span></span><br><span class="line"><span class="attr">        subnet:</span> <span class="number">192.168</span><span class="number">.3</span><span class="number">.0</span>/<span class="number">24</span> //&#x7F51;&#x6BB5;&#x662F;&#x6839;&#x636E;<span class="number">2.2</span><span class="number">.3</span>&#x8282;&#x96C6;&#x7FA4;&#x89C4;&#x5212;&#x786E;&#x5B9A;&#x7684;</span><br></pre></td></tr></table></figure></p>
<h4 id="2-2-5-&#x90E8;&#x7F72;&#x6587;&#x4EF6;&#x8BF4;&#x660E;"><a href="#2-2-5-&#x90E8;&#x7F72;&#x6587;&#x4EF6;&#x8BF4;&#x660E;" class="headerlink" title="2.2.5 *&#x90E8;&#x7F72;&#x6587;&#x4EF6;&#x8BF4;&#x660E;"></a>2.2.5 *&#x90E8;&#x7F72;&#x6587;&#x4EF6;&#x8BF4;&#x660E;</h4><p>&#x2003;&#x2003;<strong><font color="red">&#x6CE8;&#x610F;&#xFF1A;&#x5982;&#x679C;&#x662F;&#x76F4;&#x63A5;&#x62F7;&#x8D1D;&#x955C;&#x50CF;&#x6216;&#x8005;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x53BB;&#x4F7F;&#x7528;&#x800C;&#x4E0D;&#x9700;&#x8981;&#x505A;&#x4FEE;&#x6539;&#x7684;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8DF3;&#x5230;&#x5B89;&#x88C5;&#x90E8;&#x5206;</font></strong>&#x3002;&#x90E8;&#x7F72;&#x8FC7;&#x7A0B;&#x4E2D;&#x6240;&#x9700;&#x8981;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5176;&#x5B58;&#x653E;&#x76EE;&#x5F55;&#x53CA;&#x4F5C;&#x7528;&#x5982;&#x4E0B;&#xFF1A;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x76EE;&#x5F55;&#x6811;&#x56FE;</span></span><br><span class="line">../docker_hadoop</span><br><span class="line">&#x251C;&#x2500;&#x2500; addfiles //yml&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x6240;&#x6709;&#x4EE5;ADD&#x547D;&#x4EE4;&#x6DFB;&#x52A0;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x4E00;&#x4E9B;&#x8F6F;&#x4EF6;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">&#x251C;&#x2500;&#x2500; autoscripts //&#x4E00;&#x4E9B;&#x81EA;&#x52A8;&#x5316;&#x811A;&#x672C;&#xFF0C;&#x65B9;&#x4FBF;&#x64CD;&#x4F5C;&#x4F7F;&#x7528;&#xFF0C;&#x5305;&#x62EC;&#x96C6;&#x7FA4;&#x73AF;&#x5883;&#x914D;&#x7F6E;&#xFF0C;&#x542F;&#x52A8;&#x3001;&#x505C;&#x6B62;&#x7B49;</span><br><span class="line">&#x251C;&#x2500;&#x2500; copyfiles  //yml&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x6240;&#x6709;&#x4EE5;COPY&#x547D;&#x4EE4;&#x6DFB;&#x52A0;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5305;&#x62EC;&#x8F6F;&#x4EF6;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x73AF;&#x5883;&#x521D;&#x59CB;&#x5316;&#x811A;&#x672C;&#x7B49;</span><br><span class="line">&#x251C;&#x2500;&#x2500; spark_compose //spark&#x96C6;&#x7FA4;&#x542F;&#x52A8;&#x7684;docker-compose&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">&#x251C;&#x2500;&#x2500; tgzfiles //&#x6240;&#x6709;&#x540E;&#x7F00;&#x4E3A;.tgz&#x3001;.tar.gz&#x7684;&#x5B89;&#x88C5;&#x5305;</span><br><span class="line">&#x2514;&#x2500;&#x2500; ymlfiles //&#x6784;&#x5EFA;&#x96C6;&#x7FA4;&#x6240;&#x9700;&#x955C;&#x50CF;&#x7684;yml&#x683C;&#x5F0F;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br></pre></td></tr></table></figure></p>
<p>&#x2003;&#x2003;&#x6587;&#x4EF6;&#x7684;&#x6811;&#x5F62;&#x5217;&#x8868;&#x4F1A;&#x6BD4;&#x8F83;&#x957F;&#xFF0C;&#x5176;&#x4E2D;&#x5927;&#x90E8;&#x5206;&#x6587;&#x4EF6;&#x90FD;&#x662F;&#x5B89;&#x88C5;Hadoop&#x3001;Hbase&#x3001;Zookeeper&#x3001;Spark&#x6240;&#x5FC5;&#x987B;&#x914D;&#x7F6E;&#x7684;&#x6587;&#x4EF6;&#xFF0C;<strong>&#x672C;&#x6587;&#x4E0D;&#x4F1A;&#x5BF9;&#x8FD9;&#x4E9B;&#x8F6F;&#x4EF6;&#x7684;&#x5B89;&#x88C5;&#x505A;&#x8BF4;&#x660E;&#xFF0C;&#x9700;&#x8981;&#x7684;&#x8BF7;&#x81EA;&#x884C;&#x767E;&#x5EA6;&#x76F8;&#x5173;&#x8D44;&#x6599;&#x3002;</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">../docker_hadoop</span><br><span class="line">&#x251C;&#x2500;&#x2500; addfiles</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; core-site.xml  //Hadoop&#x96C6;&#x7FA4;&#x7684;HDFS&#x3001;&#x6570;&#x636E;&#x76EE;&#x5F55;&#x7B49;&#x53C2;&#x6570;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; hadoop-env.sh  //Hadoop&#x96C6;&#x7FA4;&#x7684;&#x7CFB;&#x7EDF;&#x73AF;&#x5883;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; hdfs-site.xml  //HDFS&#x7684;&#x76F8;&#x5173;&#x53C2;&#x6570;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x76F8;&#x5BF9;hdfs-site.xml.std&#x589E;&#x52A0;&#x4E86;&#x4E00;&#x4E9B;&#x53C2;&#x6570;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; hdfs-site.xml.std  //HDFS&#x6700;&#x5F00;&#x59CB;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; mapred-env.sh  //Map-Reduce&#x7CFB;&#x7EDF;&#x73AF;&#x5883;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; mapred-site.xml  //Map-Reduce&#x7AEF;&#x53E3;&#x7B49;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; slaves  //slave&#x8282;&#x70B9;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; spark-defaults.conf   //Spark&#x542F;&#x7528;<span class="built_in">history</span>&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; spark-env.sh   //Spark&#x7CFB;&#x7EDF;&#x73AF;&#x5883;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; yarn-env.sh   //Yarn&#x7CFB;&#x7EDF;&#x73AF;&#x5883;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x2514;&#x2500;&#x2500; yarn-site.xml  //Yarn&#x7AEF;&#x53E3;&#x7B49;&#x53C2;&#x6570;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">&#x251C;&#x2500;&#x2500; autoscripts</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; assign_static_ip.sh  //&#x4F7F;&#x7528;pipwork&#x7ED9;&#x5BB9;&#x5668;&#x5206;&#x914D;&#x9759;&#x6001;IP&#x7684;&#x811A;&#x672C;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; create_bridge.sh  //&#x521B;&#x5EFA;&#x6865;&#x63A5;&#x7F51;&#x7EDC;&#x7684;&#x811A;&#x672C;&#xFF08;&#x4EC5;&#x5728;&#x7528;pipwork&#x5206;&#x914D;&#x7F51;&#x7EDC;&#x65F6;&#x9700;&#x8981;&#xFF09;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; initial_hadoop_all.sh  //&#x521D;&#x6B21;&#x542F;&#x52A8;Hadoop&#x524D;&#x9700;&#x8981;&#x521D;&#x59CB;&#x5316;&#x7684;&#x6240;&#x6709;&#x76F8;&#x5173;&#x73AF;&#x5883;&#xFF0C;&#x5305;&#x62EC;&#x683C;&#x5F0F;&#x5316;Namenode&#x3001;&#x8BBE;&#x7F6E;Hadoop&#x3001;Zookeeper&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; initial_spark_all.sh  //&#x521D;&#x6B21;&#x542F;&#x52A8;Spark&#x524D;&#x9700;&#x8981;&#x521D;&#x59CB;&#x5316;&#x7684;&#x6240;&#x6709;&#x76F8;&#x5173;&#x73AF;&#x5883;&#xFF0C;&#x5305;&#x62EC;&#x683C;&#x5F0F;&#x5316;Namenode&#x3001;&#x8BBE;&#x7F6E;Spark&#x3001;Hadoop&#x3001;Zookeeper&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; remove_all_containers.sh  //&#x81EA;&#x52A8;&#x5206;&#x6790;&#x5E76;&#x5220;&#x9664;&#x4E0E;&#x96C6;&#x7FA4;&#x76F8;&#x5173;&#x7684;Container&#x811A;&#x672C;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; remove_cluster_images.sh  //&#x81EA;&#x52A8;&#x5206;&#x6790;&#x5E76;&#x5220;&#x9664;&#x4E0E;&#x96C6;&#x7FA4;&#x76F8;&#x5173;&#x7684;Images&#x811A;&#x672C;&#xFF08;&#x4F7F;&#x7528;&#x524D;&#x52A1;&#x5FC5;&#x770B;&#x4E0B;&#x4EE3;&#x7801;&#xFF0C;&#x9632;&#x6B62;&#x8BEF;&#x5220;&#xFF09;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; start_all_in_order.sh  //&#x6309;&#x987A;&#x5E8F;&#x542F;&#x52A8;&#x96C6;&#x7FA4;&#xFF08;Hadoop -&gt; Zookeeper -&gt; HBase -&gt; Spark&#xFF09;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; start_cluster_container.sh  //&#x542F;&#x52A8;&#x6240;&#x6709;&#x4E0E;&#x96C6;&#x7FA4;&#x6709;&#x5173;&#x7684;Contaner</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; start_hadoop.sh  //&#x4EC5;&#x4EC5;&#x542F;&#x52A8;Hadoop</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; start_hbase.sh  //&#x4EC5;&#x4EC5;&#x6267;&#x884C;&#x542F;&#x52A8;HBase&#x547D;&#x4EE4;&#xFF08;&#x4E0D;&#x4F1A;&#x5148;&#x542F;&#x52A8;Hadoop&#xFF0C;&#x4E0D;&#x63A8;&#x8350;&#x624B;&#x52A8;&#x6267;&#x884C;&#xFF0C;&#x8BF7;&#x5C01;&#x88C5;&#x5728;start_all_in_order.sh&#x4E2D;&#x6765;&#x6267;&#x884C;&#xFF09;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; start_spark.sh  //&#x4EC5;&#x4EC5;&#x6267;&#x884C;&#x542F;&#x52A8;Spark&#x547D;&#x4EE4;&#xFF08;&#x4E0D;&#x4F1A;&#x5148;&#x542F;&#x52A8;Hadoop&#x7B49;&#xFF0C;&#x4E0D;&#x63A8;&#x8350;&#x624B;&#x52A8;&#x6267;&#x884C;&#xFF0C;&#x8BF7;&#x5C01;&#x88C5;&#x5728;start_all_in_order.sh&#x4E2D;&#x6765;&#x6267;&#x884C;&#xFF09;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; start_zookeeper.sh  //&#x4EC5;&#x4EC5;&#x6267;&#x884C;&#x542F;&#x52A8;Zookeeper&#x547D;&#x4EE4;&#xFF08;&#x4E0D;&#x4F1A;&#x5148;&#x542F;&#x52A8;Hadoop&#x7B49;&#xFF0C;&#x4E0D;&#x63A8;&#x8350;&#x624B;&#x52A8;&#x6267;&#x884C;&#xFF0C;&#x8BF7;&#x5C01;&#x88C5;&#x5728;start_all_in_order.sh&#x4E2D;&#x6765;&#x6267;&#x884C;&#xFF09;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; stop_all_container.sh  //&#x505C;&#x6B62;&#x6240;&#x6709;&#x4E0E;&#x96C6;&#x7FA4;&#x6709;&#x5173;&#x7684;Contaner</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; stop_all_in_order.sh  //&#x6309;&#x987A;&#x5E8F;&#x505C;&#x6B62;&#x96C6;&#x7FA4;&#xFF08;Spark -&gt; HBase -&gt; Zookeeper -&gt; Hadoop&#xFF09;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; stop_hadoop.sh  //&#x4EC5;&#x4EC5;&#x6267;&#x884C;&#x505C;&#x6B62;Hadoop&#x547D;&#x4EE4;&#xFF08;&#x4E0D;&#x4F1A;&#x5148;&#x505C;&#x6B62;HBase&#x7B49;&#xFF0C;&#x4E0D;&#x63A8;&#x8350;&#x624B;&#x52A8;&#x6267;&#x884C;&#xFF0C;&#x8BF7;&#x5C01;&#x88C5;&#x5728;stop_all_in_order.sh&#x4E2D;&#x6765;&#x6267;&#x884C;&#xFF09;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; stop_hbase.sh  //&#x4EC5;&#x4EC5;&#x6267;&#x884C;&#x505C;&#x6B62;HBase&#x547D;&#x4EE4;&#xFF08;&#x4E0D;&#x4F1A;&#x505C;&#x6B62;Hadoop&#x7B49;&#xFF0C;&#x4E0D;&#x63A8;&#x8350;&#x624B;&#x52A8;&#x6267;&#x884C;&#xFF0C;&#x8BF7;&#x5C01;&#x88C5;&#x5728;stop_all_in_order.sh&#x4E2D;&#x6765;&#x6267;&#x884C;&#xFF09;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; stop_spark.sh  //&#x4EC5;&#x4EC5;&#x6267;&#x884C;&#x505C;&#x6B62;Spark&#x547D;&#x4EE4;&#xFF08;&#x4E0D;&#x4F1A;&#x53BB;&#x505C;&#x6B62;Hadoop&#x7B49;&#xFF0C;&#x4E0D;&#x63A8;&#x8350;&#x624B;&#x52A8;&#x6267;&#x884C;&#xFF0C;&#x8BF7;&#x5C01;&#x88C5;&#x5728;stop_all_in_order.sh&#x4E2D;&#x6765;&#x6267;&#x884C;&#xFF09;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x2514;&#x2500;&#x2500; stop_zookeeper.sh  //&#x4EC5;&#x4EC5;&#x6267;&#x884C;&#x505C;&#x6B62;Zookeeper&#x547D;&#x4EE4;&#xFF08;&#x4E0D;&#x4F1A;&#x53BB;&#x505C;&#x6B62;Hadoop&#x7B49;&#xFF0C;&#x4E0D;&#x63A8;&#x8350;&#x624B;&#x52A8;&#x6267;&#x884C;&#xFF0C;&#x8BF7;&#x5C01;&#x88C5;&#x5728;stop_all_in_order.sh&#x4E2D;&#x6765;&#x6267;&#x884C;&#xFF09;</span><br><span class="line">&#x251C;&#x2500;&#x2500; build_base.sh  //&#x81EA;&#x52A8;&#x6784;&#x5EFA;master&#x548C;slave&#x57FA;&#x7840;&#x955C;&#x50CF;&#x811A;&#x672C;</span><br><span class="line">&#x251C;&#x2500;&#x2500; build_master_and_server.sh  //&#x81EA;&#x52A8;&#x6784;&#x5EFA;master&#x548C;slave&#x955C;&#x50CF;&#x811A;&#x672C;</span><br><span class="line">&#x251C;&#x2500;&#x2500; copyfiles</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; format_hadoop.sh    //&#x683C;&#x5F0F;&#x5316;Namenode&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; hbase-env.sh    //HBase&#x7CFB;&#x7EDF;&#x73AF;&#x5883;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; hbase-site.xml    //HBase&#x5176;&#x5B83;&#x53C2;&#x6570;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; hosts.bak    //&#x96C6;&#x7FA4;&#x4E3B;&#x673A;&#x5217;&#x8868;&#x6587;&#x4EF6;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500;regionservers    //HBase&#x7684;regionservers&#x5217;&#x8868;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; initial_spark.sh    //&#x521D;&#x59CB;&#x5316;Spark&#x73AF;&#x5883;&#x811A;&#x672C;&#xFF0C;&#x5C01;&#x88C5;&#x5728;initial_spark_all.sh&#x3001;initial_hadoop_all.sh&#x4E2D;&#x4F7F;&#x7528;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; initial_zookeeper.sh    //&#x521D;&#x59CB;&#x5316;Zookeeper&#x73AF;&#x5883;&#x811A;&#x672C;&#xFF0C;&#x5C01;&#x88C5;&#x5728;initial_spark_all.sh&#x3001;initial_hadoop_all.sh&#x4E2D;&#x4F7F;&#x7528;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; master_bootstrap.sh  //Master&#x5BB9;&#x5668;&#x542F;&#x52A8;&#x540E;&#x81EA;&#x52A8;&#x6267;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x5B8C;&#x6210;&#x96C6;&#x7FA4;&#x4E3B;&#x673A;&#x5217;&#x8868;&#x8BBE;&#x7F6E;&#x3001;&#x5F00;&#x542F;ssh&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; setenv_hadoop.sh  //&#x521D;&#x59CB;&#x5316;Hadoop&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C;&#x5C01;&#x88C5;&#x5728;start_all_in_order.sh&#x4E2D;&#x4F7F;&#x7528;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; slave_bootstrap.sh  //Slave&#x5BB9;&#x5668;&#x542F;&#x52A8;&#x540E;&#x81EA;&#x52A8;&#x6267;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x5B8C;&#x6210;&#x96C6;&#x7FA4;&#x4E3B;&#x673A;&#x5217;&#x8868;&#x8BBE;&#x7F6E;&#x3001;&#x5F00;&#x542F;ssh&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; ssh_config  //ssh&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF08;&#x5173;&#x95ED;&#x6DFB;&#x52A0;&#x8FDC;&#x7A0B;&#x4E3B;&#x9898;host&#x9700;&#x8981;&#x786E;&#x8BA4;&#x529F;&#x80FD;&#xFF09;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x2514;&#x2500;&#x2500; zoo.cfg  //Zookeeper&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">&#x251C;&#x2500;&#x2500; Dockerfile</span><br><span class="line">&#x251C;&#x2500;&#x2500; spark_compose</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x2514;&#x2500;&#x2500; docker-compose.yml  //&#x4F7F;&#x7528;docker-compose up&#x547D;&#x4EE4;&#x542F;&#x52A8;Spark&#x6216;&#x8005;Hadoop&#x96C6;&#x7FA4;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">&#x251C;&#x2500;&#x2500; tgzfiles</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; hadoop-2.6.5.tar.gz  //Hadoop2.6.5&#x5B89;&#x88C5;&#x5305;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; hbase-1.2.6-bin.tar.gz  //HBase1.2.6&#x5B89;&#x88C5;&#x5305;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; jdk-8u111-linux-x64.tar.gz  //JDK1.8.111&#x5B89;&#x88C5;&#x5305;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; scala-2.10.6.tgz  //Scala2.10.6&#x5B89;&#x88C5;&#x5305;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; spark-1.6.2-bin-hadoop2.6.tgz  //Spark1.6.2&#x5B89;&#x88C5;&#x5305;</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x2514;&#x2500;&#x2500; zookeeper-3.4.10.tar.gz  //Zookeeper3.4.10&#x5B89;&#x88C5;&#x5305;</span><br><span class="line">&#x2514;&#x2500;&#x2500; ymlfiles</span><br><span class="line">    &#x251C;&#x2500;&#x2500; base.yml  //&#x6784;&#x5EFA;&#x57FA;&#x7840;&#x955C;&#x50CF;yml&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">    &#x251C;&#x2500;&#x2500; master.yml  //&#x6784;&#x5EFA;Master&#x8282;&#x70B9;&#x955C;&#x50CF;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">    &#x2514;&#x2500;&#x2500; slave.yml  //&#x6784;&#x5EFA;Slave&#x8282;&#x70B9;&#x955C;&#x50CF;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br></pre></td></tr></table></figure></p>
<h3 id="2-3-&#x90E8;&#x7F72;&#x6B65;&#x9AA4;"><a href="#2-3-&#x90E8;&#x7F72;&#x6B65;&#x9AA4;" class="headerlink" title="2.3 &#x90E8;&#x7F72;&#x6B65;&#x9AA4;"></a>2.3 &#x90E8;&#x7F72;&#x6B65;&#x9AA4;</h3><p>&#x2003;&#x2003;&#x5728;Docker&#x4E0A;&#x90E8;&#x7F72;Hadoop&#x5B8C;&#x5168;&#x5206;&#x5E03;&#x5F0F;&#x548C;&#x5728;&#x865A;&#x62DF;&#x673A;&#x6216;&#x8005;&#x5B9E;&#x4F53;&#x673A;&#x4E0A;&#x90E8;&#x7F72;&#x5176;&#x5B9E;&#x5927;&#x540C;&#x5C0F;&#x5F02;&#xFF0C;&#x914D;&#x7F6E;&#x597D;&#x76F8;&#x5173;&#x6587;&#x4EF6;&#xFF0C;&#x5206;&#x53D1;&#x5230;&#x76F8;&#x5E94;&#x7684;&#x4E3B;&#x673A;&#x4E0A;&#xFF0C;&#x7136;&#x540E;&#x5728;Master&#x8282;&#x70B9;&#x4E0A;&#x521D;&#x59CB;&#x5316;&#x548C;&#x542F;&#x52A8;&#x5373;&#x53EF;&#x3002;&#x53EA;&#x4E0D;&#x8FC7;&#x5728;Docker&#x4E0A;&#x90E8;&#x7F72;&#x65F6;&#xFF0C;&#x8FD9;&#x4E9B;&#x5DE5;&#x4F5C;&#x90FD;&#x5B9A;&#x4E49;&#x5728;<strong><code>Dockerfile</code></strong>&#x4E2D;&#xFF0C;&#x901A;&#x8FC7;&#x6784;&#x5EFA;&#x6240;&#x8C13;&#x7684;<strong><code>&#x955C;&#x50CF;</code></strong>&#x6765;&#x5B9E;&#x73B0;&#x3002;</p>
<h4 id="2-3-1-&#x786E;&#x5B9A;&#x8981;&#x5B89;&#x88C5;&#x8F6F;&#x4EF6;"><a href="#2-3-1-&#x786E;&#x5B9A;&#x8981;&#x5B89;&#x88C5;&#x8F6F;&#x4EF6;" class="headerlink" title="2.3.1 &#x786E;&#x5B9A;&#x8981;&#x5B89;&#x88C5;&#x8F6F;&#x4EF6;"></a>2.3.1 &#x786E;&#x5B9A;&#x8981;&#x5B89;&#x88C5;&#x8F6F;&#x4EF6;</h4><p>&#x2003;&#x2003;&#x5148;&#x786E;&#x5B9A;&#x81EA;&#x5DF1;&#x9700;&#x8981;&#x54EA;&#x4E9B;&#x7EC4;&#x4EF6;&#xFF0C;&#x914D;&#x7F6E;&#x597D;2.2.5&#x8282;&#x4E2D;&#x5BF9;&#x5E94;&#x7684;&#x53C2;&#x6570;&#x6587;&#x4EF6;&#xFF0C;&#x653E;&#x5230;2.2.5&#x8282;&#x6240;&#x8FF0;&#x7684;&#x76EE;&#x5F55;&#x4E0B;&#x3002;&#x6BD4;&#x5982;&#x4F60;&#x53EA;&#x60F3;&#x5B89;&#x88C5;Hadoop&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x628A;hdfs-site.xml&#x3001;mapred-env.sh&#x7B49;&#x6587;&#x4EF6;&#x62F7;&#x8D1D;&#x8FDB;&#x53BB;&#x5C31;&#x662F;&#x3002;<br>&#x2003;&#x2003;<font color="red" size="4">&#x6CE8;&#x610F;&#xFF1A;&#x5982;&#x65E0;&#x7279;&#x522B;&#x8BF4;&#x660E;&#xFF0C;&#x672C;&#x8282;&#x7684;&#x547D;&#x4EE4;&#x3001;&#x811A;&#x672C;&#x6267;&#x884C;&#x5747;&#x662F;&#x5728;<strong>Docker&#x5BBF;&#x4E3B;&#x673A;&#x4E0A;</strong>&#x800C;&#x975E;&#x5BB9;&#x5668;&#x5185;&#x5B8C;&#x6210;&#x7684;&#x3002;</font></p>
<h4 id="2-3-2-&#x6784;&#x5EFA;&#x57FA;&#x7840;&#x955C;&#x50CF;"><a href="#2-3-2-&#x6784;&#x5EFA;&#x57FA;&#x7840;&#x955C;&#x50CF;" class="headerlink" title="2.3.2 &#x6784;&#x5EFA;&#x57FA;&#x7840;&#x955C;&#x50CF;"></a>2.3.2 &#x6784;&#x5EFA;&#x57FA;&#x7840;&#x955C;&#x50CF;</h4><p>&#x2003;&#x2003;&#x5148;&#x4FEE;&#x6539;<strong><code>ymlfiles</code></strong>&#x76EE;&#x5F55;&#x4E0B;&#x7684;<strong><code>base.yml</code></strong>&#xFF0C;&#x589E;&#x5220;&#x7EC4;&#x4EF6;&#xFF0C;&#x518D;&#x5207;&#x6362;&#x5230;<strong><code>build_base.sh</code></strong>&#x811A;&#x672C;&#x6240;&#x5728;&#x76EE;&#x5F55;&#xFF0C;&#x5E76;&#x5728;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E0B;&#x6267;&#x884C;&#xFF1A;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./build_base.sh</span><br><span class="line">&#x6216;&#x8005;</span><br><span class="line">bash build_base.sh</span><br></pre></td></tr></table></figure></p>
<p>&#x2003;&#x2003;&#x5982;&#x679C;&#x63D0;&#x793A;&#x6743;&#x9650;&#x4E0D;&#x8DB3;&#xFF0C;&#x8BF7;&#x52A0;<strong><code>sudo</code></strong>&#x6267;&#x884C;&#x3002;<strong><code>build_base.sh</code></strong>&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># build the base images for master and slave</span></span><br><span class="line">cp ymlfiles/base.yml Dockerfile</span><br><span class="line">sudo docker build -t=<span class="string">&quot;flat2010:hadoop-base&quot;</span> .</span><br></pre></td></tr></table></figure></p>
<p>&#x2003;&#x2003;&#x4EE3;&#x7801;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x5148;&#x62F7;&#x8D1D;<strong><code>ymlfiles</code></strong>&#x76EE;&#x5F55;&#x4E0B;&#x7684;<strong><code>base.yml</code></strong>&#x6587;&#x4EF6;&#x5230;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E0B;&#x8986;&#x76D6;&#x5DF2;&#x6709;&#x7684;<strong><code>Dockerfile</code></strong>&#xFF0C;&#x7136;&#x540E;&#x6839;&#x636E;&#x8FD9;&#x4EFD;&#x62F7;&#x8D1D;&#x51FA;&#x6765;&#x7684;<strong><code>Dockerfile</code></strong>&#x751F;&#x6210;&#x4E00;&#x4E2A;<strong><code>REPOSITORY:TAG</code></strong>&#x4E3A;&#x201C;flat2010:hadoop-base&#x201D;&#x7684;&#x57FA;&#x7840;Docker&#x955C;&#x50CF;&#x3002;<strong><code>base.yml</code></strong>&#x7684;&#x5185;&#x5BB9;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x8D34;&#x4E86;&#xFF0C;&#x5B83;&#x7684;&#x4E3B;&#x8981;&#x4EFB;&#x52A1;&#x5C31;&#x662F;&#x89E3;&#x538B;&#x3001;&#x62F7;&#x8D1D;&#x76F8;&#x5173;&#x6587;&#x4EF6;&#xFF0C;&#x521B;&#x5EFA;hadoop&#x8D26;&#x6237;&#x548C;&#x7FA4;&#x7EC4;&#xFF08;hadoop&#x8D26;&#x6237;&#x7684;&#x521D;&#x59CB;&#x5BC6;&#x7801;&#x8BBE;&#x7F6E;&#x4E3A;123456&#xFF09;&#xFF0C;&#x542F;&#x52A8;ssh&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#xFF0C;&#x8BBE;&#x7F6E;ssh&#x514D;&#x5BC6;&#x767B;&#x5F55;&#x7B49;&#x7B49;&#xFF0C;&#x7F51;&#x4E0A;&#x968F;&#x4FBF;&#x641C;&#x4E0B;Docker&#x7684;&#x77E5;&#x8BC6;&#x5C31;&#x80FD;&#x770B;&#x61C2;&#x4E86;&#x3002;<strong>&#x6CE8;&#x610F;&#x6700;&#x540E;&#x4E00;&#x884C;&#x4EE3;&#x7801;&#x7684;&#x6700;&#x540E;&#x8FD8;&#x6709;&#x4E2A;</strong><code>&#x201C;.&#x201D;</code><strong>&#xFF0C;&#x8FD9;&#x53EF;&#x4E0D;&#x662F;&#x624B;&#x8BEF;&#x3002;</strong><br>&#x2003;&#x2003;<font color="red">&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x5F3A;&#x8C03;&#x7684;&#x662F;&#xFF0C;&#x8BE5;&#x57FA;&#x7840;&#x955C;&#x50CF;&#x662F;&#x57FA;&#x4E8E;&#x6211;&#x81EA;&#x5DF1;&#x4FEE;&#x6539;&#x4FDD;&#x5B58;&#x7684;&#x201C;djangov9&#x201D;&#x955C;&#x50CF;&#x6784;&#x5EFA;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x52A0;&#x4E86;Mysql&#x3001;Django&#x7B49;&#x8F6F;&#x4EF6;&#xFF0C;&#x6240;&#x4EE5;&#x6784;&#x5EFA;&#x51FA;&#x6765;&#x7684;&#x57FA;&#x7840;&#x955C;&#x50CF;&#x4F1A;&#x6709;&#x4E9B;&#x504F;&#x5927;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x9700;&#x8981;&#x7684;&#x8BDD;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x57FA;&#x4E8E;&#x5B98;&#x65B9;&#x6700;&#x65B0;&#x955C;&#x50CF;&#x201C;ubuntu:latest&#x201D;&#x6784;&#x5EFA;&#x3002;</font><br>&#x2003;&#x2003;&#x6784;&#x5EFA;&#x7ED3;&#x675F;&#x5E76;&#x4E14;&#x63D0;&#x793A;&#x6210;&#x529F;&#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<strong><code>sudo docker images</code></strong>&#x770B;&#x5230;&#x521A;&#x521A;&#x6784;&#x5EFA;&#x597D;&#x7684;&#x57FA;&#x7840;&#x955C;&#x50CF;&#xFF1A;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">flat2010            hadoop-base         6b3d949f2d6a        4 days ago          1.99GB</span><br><span class="line">flat2010            djangov9            9e21705da454        5 days ago          999MB</span><br><span class="line">&#xB7;&#xB7;&#xB7;           &#xB7;&#xB7;&#xB7;            &#xB7;&#xB7;&#xB7;            &#xB7;&#xB7;&#xB7;            &#xB7;&#xB7;&#xB7;            &#xB7;&#xB7;&#xB7;</span><br><span class="line">flat2010/ubuntu     v1                  666037795a72        8 days ago          187MB</span><br><span class="line">ubuntu              latest              14f60031763d        3 weeks ago         120MB</span><br></pre></td></tr></table></figure></p>
<h4 id="2-3-3-&#x6784;&#x5EFA;&#x96C6;&#x7FA4;&#x955C;&#x50CF;"><a href="#2-3-3-&#x6784;&#x5EFA;&#x96C6;&#x7FA4;&#x955C;&#x50CF;" class="headerlink" title="2.3.3 &#x6784;&#x5EFA;&#x96C6;&#x7FA4;&#x955C;&#x50CF;"></a>2.3.3 &#x6784;&#x5EFA;&#x96C6;&#x7FA4;&#x955C;&#x50CF;</h4><p>&#x2003;&#x2003;&#x540C;&#x4E0A;&#xFF0C;&#x5148;&#x4FEE;&#x6539;<strong><code>ymlfiles</code></strong>&#x76EE;&#x5F55;&#x4E0B;&#x7684;<strong><code>master.yml</code></strong>&#x3001;<strong><code>slave.yml</code></strong>&#x6587;&#x4EF6;&#xFF0C;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x9700;&#x6C42;&#x589E;&#x5220;&#x7EC4;&#x4EF6;&#xFF0C;&#x518D;&#x5728;<strong><code>build_master_and_slave.sh</code></strong>&#x811A;&#x672C;&#x6240;&#x5728;&#x76EE;&#x5F55;&#x4E0B;&#x6267;&#x884C;&#xFF1A;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./build_master_and_slave.sh</span><br><span class="line">&#x6216;&#x8005;</span><br><span class="line">bash build_master_and_slave.sh</span><br></pre></td></tr></table></figure></p>
<p>&#x2003;&#x2003;&#x811A;&#x672C;&#x4F1A;&#x81EA;&#x52A8;&#x6784;&#x5EFA;&#x597D;&#x96C6;&#x7FA4;&#x6240;&#x9700;&#x7684;Master&#x8282;&#x70B9;&#x548C;Slave&#x8282;&#x70B9;&#x955C;&#x50CF;&#x3002;<strong><code>build_master_and_slave.sh</code></strong>&#x811A;&#x672C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">cp ymlfiles/slave.yml Dockerfile</span><br><span class="line">sudo docker build -t=<span class="string">&quot;flat2010:hadoop-slave&quot;</span> .</span><br><span class="line"></span><br><span class="line">cp ymlfiles/master.yml Dockerfile</span><br><span class="line">sudo docker build -t=<span class="string">&quot;flat2010:hadoop-master&quot;</span> .</span><br></pre></td></tr></table></figure></p>
<p>&#x2003;&#x2003;&#x8FD9;&#x90E8;&#x5206;&#x4EE3;&#x7801;&#x4E5F;&#x4E0D;&#x590D;&#x6742;&#xFF0C;&#x5148;&#x62F7;&#x8D1D;<strong><code>ymlfiles</code></strong>&#x76EE;&#x5F55;&#x4E0B;&#x7684;<strong><code>slave.yml</code></strong>&#x4E3A;<strong><code>Dockerfile</code></strong>&#xFF0C;&#x6784;&#x5EFA;&#x4E00;&#x4E2A;<strong><code>REPOSITORY:TAG</code></strong>&#x4E3A;&#x201C;flat2010:hadoop-slave&#x201D;&#x7684;Slave&#x8282;&#x70B9;&#x955C;&#x50CF;&#xFF0C;&#x7136;&#x540E;&#x62F7;&#x8D1D;<strong><code>ymlfiles</code></strong>&#x76EE;&#x5F55;&#x4E0B;&#x7684;<strong><code>master.yml</code></strong>&#x4E3A;<strong><code>Dockerfile</code></strong>&#xFF0C;&#x6784;&#x5EFA;&#x4E00;&#x4E2A;<strong><code>REPOSITORY:TAG</code></strong>&#x4E3A;&#x201C;flat2010:hadoop-master&#x201D;&#x7684;Master&#x8282;&#x70B9;&#x955C;&#x50CF;&#x3002;<strong><code>master.yml</code></strong>&#x4EE5;&#x53CA;<strong><code>slave.yml</code></strong>&#x7684;&#x5185;&#x5BB9;&#x8FD9;&#x91CC;&#x4E5F;&#x4E0D;&#x8D34;&#x4E86;&#xFF0C;&#x5176;&#x4F5C;&#x7528;&#x4E5F;&#x65E0;&#x975E;&#x5C31;&#x662F;&#x89E3;&#x538B;&#x3001;&#x62F7;&#x8D1D;&#x76F8;&#x5173;&#x6587;&#x4EF6;&#xFF0C;&#x66F4;&#x6539;&#x76EE;&#x5F55;&#x6743;&#x9650;&#xFF0C;&#x8BBE;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7B49;&#x7B49;&#x3002;&#x552F;&#x4E00;&#x9700;&#x8981;&#x8BF4;&#x660E;&#x7684;&#x4E00;&#x70B9;&#x662F;&#xFF0C;&#x6587;&#x4EF6;&#x6700;&#x540E;&#x4E00;&#x884C;&#xFF1A;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x6587;&#x4EF6;&#x8F93;&#x51FA;&#x622A;&#x65AD;</span></span><br><span class="line">ADD addfiles/spark-defaults.conf /usr/<span class="built_in">local</span>/spark-1.6.2-bin-hadoop2.6/conf/</span><br><span class="line">COPY copyfiles/initial_spark.sh /home/hadoop</span><br><span class="line">ENTRYPOINT [<span class="string">&quot;/home/hadoop/master_bootstrap.sh&quot;</span>]</span><br></pre></td></tr></table></figure></p>
<p>&#x2003;&#x2003;&#x8BE5;&#x884C;&#x4EE3;&#x7801;&#x4F1A;&#x5728;&#x5229;&#x7528;Image&#x5B9E;&#x4F8B;&#x5316;&#x7684;Container&#x542F;&#x52A8;&#x65F6;&#xFF0C;&#x53BB;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x811A;&#x672C;&#x3002;&#x8FD9;&#x4E2A;&#x811A;&#x672C;&#x7684;&#x4F5C;&#x7528;&#x5728;&#x524D;&#x9762;&#x4E5F;&#x5907;&#x6CE8;&#x4E86;&#xFF0C;&#x65E0;&#x975E;&#x5C31;&#x662F;&#x8BBE;&#x7F6E;&#x4E3B;&#x673A;&#x540D;&#x3001;&#x542F;&#x52A8;ssh&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#xFF0C;&#x5176;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash  </span></span><br><span class="line">sudo cp /tmp/hosts.bak /etc/hosts</span><br><span class="line">sudo /usr/sbin/sshd -D</span><br></pre></td></tr></table></figure></p>
<p>&#x2003;&#x2003;<font color="red">&#x4E4B;&#x6240;&#x4EE5;&#x5355;&#x72EC;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x811A;&#x672C;&#x53BB;&#x6267;&#x884C;&#x8FD9;&#x4E9B;&#x5DE5;&#x4F5C;&#xFF0C;&#x662F;&#x56E0;&#x4E3A;&#x6700;&#x521D;&#x6211;&#x5728;Dockerfile&#x4E2D;&#x64CD;&#x4F5C;&#x65F6;&#x6B7B;&#x6D3B;&#x4E0D;&#x751F;&#x6548;&#xFF0C;&#x4E3B;&#x8981;&#x662F;/etc/hosts&#x6587;&#x4EF6;&#x65E0;&#x8BBA;&#x5982;&#x4F55;&#x4E0D;&#x5141;&#x8BB8;&#x4FEE;&#x6539;&#xFF08;&#x52A0;sudo&#x4F9D;&#x7136;&#xFF09;&#xFF0C;&#x53EA;&#x6709;&#x8D70;&#x66F2;&#x7EBF;&#x3002;</font><br>&#x2003;&#x2003;<strong><code>master.yml</code></strong>&#x76F8;&#x5BF9;&#x4E8E;<strong><code>slave.yml</code></strong>&#x53EA;&#x662F;&#x591A;&#x4E86;&#x4E9B;&#x4FEE;&#x6539;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x548C;&#x542F;&#x52A8;&#x96C6;&#x7FA4;&#x7684;&#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x540C;&#x65F6;<strong><code>slave.yml</code></strong>&#x66B4;&#x9732;&#x4E86;&#x4E00;&#x4E9B;Zookeeper&#x901A;&#x4FE1;&#x9700;&#x8981;&#x7684;&#x7AEF;&#x53E3;&#xFF08;2181&#x3001;2888&#x3001;3888&#xFF09;&#x51FA;&#x6765;&#x3002;<br>&#x2003;&#x2003;&#x6784;&#x5EFA;&#x7ED3;&#x675F;&#x5E76;&#x4E14;&#x63D0;&#x793A;&#x6210;&#x529F;&#x7684;&#x8BDD;&#xFF0C;&#x540C;&#x6837;&#x901A;&#x8FC7;<strong><code>sudo docker images</code></strong>&#x67E5;&#x770B;&#x521A;&#x521A;&#x6784;&#x5EFA;&#x597D;&#x7684;&#x57FA;&#x7840;&#x955C;&#x50CF;&#xFF1A;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">flat2010            hadoop-master       9dd58e6f1180        2 days ago          3.49GB</span><br><span class="line">flat2010            hadoop-slave        71d2a20b8a3e        2 days ago          3.49GB</span><br><span class="line">flat2010            hadoop-base         6b3d949f2d6a        4 days ago          1.99GB</span><br><span class="line">&#xB7;&#xB7;&#xB7;            &#xB7;&#xB7;&#xB7;            &#xB7;&#xB7;&#xB7;            &#xB7;&#xB7;&#xB7;</span><br><span class="line">ubuntu              latest              14f60031763d        3 weeks ago         120MB</span><br></pre></td></tr></table></figure></p>
<p>&#x2003;&#x2003;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x7531;&#x4E8E;&#x52A0;&#x4E86;&#x8F83;&#x591A;&#x8F6F;&#x4EF6;&#x5305;&#xFF0C;&#x7F16;&#x8BD1;&#x751F;&#x6210;&#x7684;&#x96C6;&#x7FA4;&#x955C;&#x50CF;&#x975E;&#x5E38;&#x5927;&#xFF08;&#x7EA6;3.5G&#xFF09;&#xFF0C;&#x6240;&#x4EE5;<strong>&#x5F3A;&#x70C8;&#x5EFA;&#x8BAE;&#x5254;&#x9664;&#x4E00;&#x4E9B;&#x4E0D;&#x9700;&#x8981;&#x7684;&#x8F6F;&#x4EF6;&#x3002;</strong></p>
<h4 id="2-3-4-&#x521B;&#x5EFA;&#x5E76;&#x8FD0;&#x884C;&#x5BB9;&#x5668;"><a href="#2-3-4-&#x521B;&#x5EFA;&#x5E76;&#x8FD0;&#x884C;&#x5BB9;&#x5668;" class="headerlink" title="2.3.4 &#x521B;&#x5EFA;&#x5E76;&#x8FD0;&#x884C;&#x5BB9;&#x5668;"></a>2.3.4 &#x521B;&#x5EFA;&#x5E76;&#x8FD0;&#x884C;&#x5BB9;&#x5668;</h4><p>&#x2003;&#x2003;&#x5148;&#x4FEE;&#x6539;<strong><code>spark_compose</code></strong>&#x76EE;&#x5F55;&#x4E0B;&#x7684;<strong><code>docker-compose.yml</code></strong>&#xFF0C;&#x7136;&#x540E;&#x5728;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x6267;&#x884C;&#xFF1A;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker-compose up</span><br></pre></td></tr></table></figure></p>
<p>&#x2003;&#x2003;&#x6210;&#x529F;&#x6267;&#x884C;&#x540E;&#xFF0C;&#x4F7F;&#x7528;&#x547D;&#x4EE4;<strong><code>sudo docker ps</code></strong>&#x67E5;&#x770B;&#x521B;&#x5EFA;&#x548C;&#x542F;&#x52A8;&#x8D77;&#x6765;&#x7684;&#x6240;&#x6709;Container&#xFF1A;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CONTAINER ID        IMAGE                    COMMAND                  CREATED             STATUS              PORTS                                                                                                                                                                                                                                                                                                                                                            NAMES</span><br><span class="line">3ad515acbab3        flat2010:hadoop-master   <span class="string">&quot;/home/hadoop/mast...&quot;</span>   2 days ago          Up 10 seconds       0.0.0.0:2181-&gt;2181/tcp, 0.0.0.0:4040-&gt;4040/tcp, 22/tcp, 0.0.0.0:7077-&gt;7077/tcp, 0.0.0.0:8042-&gt;8042/tcp, 0.0.0.0:8080-&gt;8080/tcp, 0.0.0.0:8088-&gt;8088/tcp, 0.0.0.0:9000-9001-&gt;9000-9001/tcp, 0.0.0.0:16010-&gt;16010/tcp, 0.0.0.0:16201-&gt;16201/tcp, 0.0.0.0:16301-&gt;16301/tcp, 0.0.0.0:18080-&gt;18080/tcp, 0.0.0.0:19888-&gt;19888/tcp, 8000/tcp, 0.0.0.0:50070-&gt;50070/tcp   spark-master</span><br><span class="line">7e58661fa37f        flat2010:hadoop-slave    <span class="string">&quot;/home/hadoop/slav...&quot;</span>   2 days ago          Up 12 seconds       22/tcp, 2181/tcp, 2888/tcp, 3888/tcp, 8000/tcp, 8080/tcp, 0.0.0.0:8071-&gt;8081/tcp                                                                                                                                                                                                                                                                                 spark-slave2</span><br><span class="line">98a68bab400d        flat2010:hadoop-slave    <span class="string">&quot;/home/hadoop/slav...&quot;</span>   2 days ago          Up 12 seconds       22/tcp, 2181/tcp, 2888/tcp, 3888/tcp, 8000/tcp, 8080/tcp, 0.0.0.0:8081-&gt;8081/tcp                                                                                                                                                                                                                                                                                 spark-slave1</span><br><span class="line">31a94a5d40f8        flat2010:hadoop-slave    <span class="string">&quot;/home/hadoop/slav...&quot;</span>   2 days ago          Up 12 seconds       22/tcp, 2181/tcp, 2888/tcp, 3888/tcp, 8000/tcp, 8080/tcp, 0.0.0.0:8061-&gt;8081/tcp                                                                                                                                                                                                                                                                                 spark-slave3</span><br><span class="line">281ada44<span class="built_in">cd</span>48        flat2010:hadoop-slave    <span class="string">&quot;/home/hadoop/slav...&quot;</span>   2 days ago          Up 12 seconds       22/tcp, 2181/tcp, 2888/tcp, 3888/tcp, 8000/tcp, 8080/tcp, 0.0.0.0:8051-&gt;8081/tcp</span><br></pre></td></tr></table></figure></p>
<p>&#x2003;&#x2003;&#x4E0A;&#x9762;&#x7684;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x6765;&#xFF0C;Master&#x8282;&#x70B9;&#x6620;&#x5C04;&#x4E86;&#x8BB8;&#x591A;&#x7AEF;&#x53E3;&#x51FA;&#x6765;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x5373;&#x4F7F;&#x5728;&#x5BBF;&#x4E3B;&#x673A;&#x5916;&#x9762;&#x4E5F;&#x80FD;&#x8BBF;&#x95EE;&#xFF0C;&#x5173;&#x4E8E;&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#xFF08;PORTS&#xFF09;&#x548C;&#x7AEF;&#x53E3;&#x66B4;&#x9732;&#xFF08;EXPOSE&#xFF09;&#x7684;&#x8BE6;&#x7EC6;&#x8BF4;&#x660E;&#xFF0C;&#x53C2;&#x89C1;&#x540E;&#x9762;&#x7AE0;&#x8282;&#x3002;<br>&#x2003;&#x2003;&#x5BF9;&#x4E8E;<strong><code>docker-compose.yml</code></strong>&#xFF0C;&#x9700;&#x8981;&#x8BF4;&#x660E;&#x7684;&#x6709;&#x51E0;&#x70B9;&#xFF0C;&#x9996;&#x5148;&#x662F;&#x5728;&#x542F;&#x52A8;&#x65F6;&#x7528;&#x53C2;&#x6570;<strong><code>ports</code></strong>&#x6307;&#x5B9A;&#x8981;&#x6620;&#x5C04;&#x51FA;&#x6765;&#x7684;&#x7AEF;&#x53E3;&#xFF1A;<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">ports:</span></span><br><span class="line"><span class="bullet">   -</span> <span class="string">&quot;8042:8042&quot;</span></span><br><span class="line"><span class="bullet">   -</span> <span class="string">&quot;19888:19888&quot;</span></span><br><span class="line"><span class="bullet">   -</span> <span class="string">&quot;50070:50070&quot;</span>  //Hadoop&#x96C6;&#x7FA4;&#x7684;webui&#x5730;&#x5740;</span><br><span class="line"><span class="bullet">   -</span> <span class="string">&quot;8088:8088&quot;</span>  //Spark&#x96C6;&#x7FA4;&#x7684;webui&#x5730;&#x5740;</span><br><span class="line"><span class="bullet">   -</span> <span class="string">&quot;9000:9000&quot;</span></span><br><span class="line"><span class="bullet">   -</span> <span class="string">&quot;9001:9001&quot;</span></span><br><span class="line"><span class="bullet">   -</span> <span class="string">&quot;2181:2181&quot;</span></span><br><span class="line"><span class="bullet">   -</span> <span class="string">&quot;16010:16010&quot;</span>  //HBase&#x7684;webui&#x5730;&#x5740;</span><br><span class="line"><span class="bullet">   -</span> <span class="string">&quot;16301:16301&quot;</span></span><br><span class="line"><span class="bullet">   -</span> <span class="string">&quot;16201:16201&quot;</span></span><br><span class="line"><span class="bullet">   -</span> <span class="string">&quot;4040:4040&quot;</span></span><br><span class="line"><span class="bullet">   -</span> <span class="string">&quot;8080:8080&quot;</span></span><br><span class="line"><span class="bullet">   -</span> <span class="string">&quot;7077:7077&quot;</span>  //&#x63D0;&#x4EA4;&#x4F5C;&#x4E1A;&#x9700;&#x8981;</span><br><span class="line"><span class="bullet">   -</span> <span class="string">&quot;18080:18080&quot;</span></span><br></pre></td></tr></table></figure></p>
<p>&#x2003;&#x2003;&#x5176;&#x6B21;&#xFF0C;&#x8003;&#x8651;&#x707E;&#x5907;&#xFF0C;&#x6211;&#x628A;&#x4E00;&#x4E9B;&#x5173;&#x952E;&#x6570;&#x636E;&#xFF08;&#x6BD4;&#x5982;HDFS&#x6570;&#x636E;&#x3001;HBase&#x6570;&#x636E;&#xFF09;&#x5B58;&#x653E;&#x5728;&#x5BBF;&#x4E3B;&#x673A;&#x4E0A;&#x800C;&#x975E;Container&#x4E2D;&#xFF0C;&#x8FD9;&#x6837;&#x5373;&#x4F7F;&#x5305;&#x542B;&#x96C6;&#x7FA4;&#x7684;Container&#x5220;&#x9664;&#x6216;&#x8005;&#x635F;&#x6BC1;&#x4E86;&#xFF0C;&#x96C6;&#x7FA4;&#x6570;&#x636E;&#x5E76;&#x4E0D;&#x4F1A;&#x4E22;&#x5931;&#xFF0C;&#x91CD;&#x65B0;&#x521B;&#x5EFA;&#x597D;&#x96C6;&#x7FA4;&#x540E;&#xFF0C;&#x8FD8;&#x80FD;&#x4F7F;&#x7528;&#x4E4B;&#x524D;&#x7684;&#x96C6;&#x7FA4;&#x6570;&#x636E;&#x3002;&#x901A;&#x8FC7;<strong><code>volumes</code></strong>&#x53C2;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x5BB9;&#x5668;&#x4E2D;&#x6307;&#x5B9A;&#x8981;&#x6302;&#x8F7D;&#x7684;&#x5916;&#x90E8;&#x76EE;&#x5F55;&#xFF1A;<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">volumes:</span></span><br><span class="line"><span class="bullet">   -</span> /home/develop/hadoop_datas:/home/hadoop/hadoop_datas</span><br><span class="line"><span class="bullet">   -</span> /home/develop/spark_datas:/home/hadoop/spark_datas</span><br></pre></td></tr></table></figure></p>
<p>&#x2003;&#x2003;&#x53E6;&#x5916;&#xFF0C;Slave&#x8282;&#x70B9;&#x4E5F;&#x6620;&#x5C04;&#x4E86;&#x4E00;&#x4E2A;&#x7AEF;&#x53E3;8081&#xFF0C;&#x8FD9;&#x662F;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x67E5;&#x770B;Spark&#x96C6;&#x7FA4;&#x5404;&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x8FD9;&#x91CC;&#x53C8;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x6BCF;&#x4E2A;Container&#x7684;8081&#x90FD;&#x9700;&#x8981;&#x6620;&#x5C04;&#x51FA;&#x6765;&#xFF0C;&#x4F46;&#x662F;&#x5BBF;&#x4E3B;&#x673A;&#x53EA;&#x6709;&#x4E00;&#x4E2A;8081&#x7AEF;&#x53E3;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x4E9B;Container&#x4E2D;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x53EF;&#x4EE5;&#x6620;&#x5C04;&#x5230;&#x539F;&#x751F;&#x7684;8081&#x7AEF;&#x53E3;&#xFF0C;&#x5269;&#x4E0B;&#x7684;&#x53EA;&#x80FD;&#x6539;&#x7528;&#x5176;&#x5B83;&#x7AEF;&#x53E3;&#x3002;&#x8FD9;&#x91CC;&#x91C7;&#x53D6;&#x7684;&#x662F;&#x628A;8081&#x7559;&#x7ED9;slave1&#xFF0C;&#x5269;&#x4E0B;&#x7684;slave2&#x3001;slave3&#x3001;slave4&#x5206;&#x522B;&#x5BF9;&#x5E94;8071&#x3001;8061&#x3001;8051&#x7AEF;&#x53E3;&#x3002;&#x5373;&#x8BBF;&#x95EE; <a href="http://&#x5BBF;&#x4E3B;&#x673A;:8071" target="_blank" rel="noopener">http://&#x5BBF;&#x4E3B;&#x673A;:8071</a> &#x5C31;&#x76F8;&#x5F53;&#x4E8E;&#x8BBF;&#x95EE;slave1&#x7684;8081&#x7AEF;&#x53E3;&#x3002;</p>
<h4 id="2-3-5-&#x521D;&#x59CB;&#x5316;&#x73AF;&#x5883;"><a href="#2-3-5-&#x521D;&#x59CB;&#x5316;&#x73AF;&#x5883;" class="headerlink" title="2.3.5 &#x521D;&#x59CB;&#x5316;&#x73AF;&#x5883;"></a>2.3.5 &#x521D;&#x59CB;&#x5316;&#x73AF;&#x5883;</h4><p>&#x2003;&#x2003;&#x8FDB;&#x5165;<strong><code>autoscripts</code></strong>&#x76EE;&#x5F55;&#xFF0C;&#x6267;&#x884C;&#x811A;&#x672C;<strong><code>initial_spark_all.sh&#xFF08;&#x5B89;&#x88C5;&#x4E86;Spark&#x96C6;&#x7FA4;&#xFF09;</code></strong>&#x6216;&#x8005;<strong><code>initial_hadoop_all.sh&#xFF08;&#x5B89;&#x88C5;&#x4E86;Hadoop&#x96C6;&#x7FA4;&#xFF09;</code></strong>&#x521D;&#x59CB;&#x5316;Container&#x7684;&#x73AF;&#x5883;&#xFF0C;&#x8FD9;&#x4E9B;&#x811A;&#x672C;&#x4F1A;&#x5148;&#x767B;&#x5F55;&#x5BB9;&#x5668;&#xFF0C;&#x7136;&#x540E;&#x6267;&#x884C;&#x5BB9;&#x5668;&#x91CC;&#x9762;&#x7684;&#x76F8;&#x5E94;&#x811A;&#x672C;&#xFF0C;&#x4EE5;<strong><code>initial_hadoop_all.sh</code></strong>&#x4EE3;&#x7801;&#x6765;&#x8BF4;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># format namenode of hadoop</span></span><br><span class="line">docker <span class="built_in">exec</span> -ti `sudo docker ps | grep <span class="string">&quot;flat2010:hadoop-master&quot;</span> | awk <span class="string">&apos;{print $1}&apos;</span>` bash -c <span class="string">&quot;source /home/hadoop/format_hadoop.sh;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># set hadoop environment</span></span><br><span class="line">docker <span class="built_in">exec</span> `sudo docker ps | grep <span class="string">&quot;flat2010:hadoop-master&quot;</span> | awk <span class="string">&apos;{print $1}&apos;</span>` bash -c <span class="string">&quot;source /home/hadoop/setenv_hadoop.sh&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># initial zookeeper</span></span><br><span class="line">docker <span class="built_in">exec</span> `sudo docker ps | grep <span class="string">&quot;flat2010:hadoop-master&quot;</span> | awk <span class="string">&apos;{print $1}&apos;</span>` bash -c <span class="string">&quot;source /home/hadoop/initial_zookeeper.sh&quot;</span></span><br></pre></td></tr></table></figure>
<p>&#x2003;&#x2003;&#x4EE3;&#x7801;&#x5148;&#x662F;&#x67E5;&#x627E;&#x955C;&#x50CF;&#x540D;&#x4E3A;<strong><code>flat2010:hadoop-master</code></strong>&#x7684;Container&#xFF0C;&#x83B7;&#x53D6;Container ID&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528;<strong><code>exec</code></strong>&#x547D;&#x4EE4;&#x8FDB;&#x5165;&#x8BE5;&#x5BB9;&#x5668;&#xFF0C;&#x6267;&#x884C;&#x5BB9;&#x5668;&#x4E2D;&#x7684;<strong><code>format_hadoop.sh</code></strong>&#x3001;<strong><code>setenv_hadoop.sh</code></strong>&#x3001;<strong><code>initial_zookeeper.sh</code></strong>&#x811A;&#x672C;&#xFF0C;&#x6267;&#x884C;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x9000;&#x51FA;&#x5BB9;&#x5668;&#xFF08;&#x4F46;&#x4E0D;&#x4F1A;&#x505C;&#x6B62;&#x6216;&#x9500;&#x6BC1;&#xFF09;&#xFF0C;&#x5B8C;&#x6210;&#x73AF;&#x5883;&#x521D;&#x59CB;&#x5316;&#x914D;&#x7F6E;&#x3002;<br>&#x2003;&#x2003;<strong>&#x6CE8;&#x610F;&#x6267;&#x884C;format_hadoop.sh&#x811A;&#x672C;&#x4F1A;&#x683C;&#x5F0F;&#x5316;Namenode&#xFF0C;&#x6240;&#x4EE5;&#x4E00;&#x822C;&#x662F;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x5B89;&#x88C5;&#x597D;Hadoop&#x540E;&#x5C1A;&#x672A;&#x542F;&#x52A8;&#x524D;&#x8C03;&#x7528;&#x4E0A;&#x9762;&#x4E24;&#x4E2A;initial_xxx&#x811A;&#x672C;</strong>&#x3002;<br>&#x2003;&#x2003;&#x6B64;&#x5916;&#xFF0C;&#x7B2C;&#x4E00;&#x884C;&#x8FDB;&#x5165;&#x5BB9;&#x5668;&#x7684;&#x4EE3;&#x7801;&#x4E4B;&#x6240;&#x4EE5;&#x8981;&#x52A0;&#x5165;&#x53C2;&#x6570;<strong><code>-ti</code></strong>&#xFF0C;&#x662F;&#x56E0;&#x4E3A;&#x5982;&#x679C;&#x4E0D;&#x4EE5;&#x8FD9;&#x79CD;&#x4EA4;&#x4E92;&#x65B9;&#x5F0F;&#x6267;&#x884C;&#xFF0C;&#x683C;&#x5F0F;&#x5316;Namenode&#x63D0;&#x793A;&#x8F93;&#x5165;<strong><code>YES/NO?</code></strong>&#x65F6;&#xFF0C;&#x5BB9;&#x5668;&#x5C06;&#x65E0;&#x6CD5;&#x83B7;&#x53D6;&#x4F60;&#x7684;&#x8F93;&#x5165;&#xFF0C;&#x4ECE;&#x800C;&#x4E00;&#x76F4;&#x5361;&#x5728;&#x90A3;&#x4E2A;&#x63D0;&#x793A;&#x754C;&#x9762;&#x3002;<br>&#x2003;&#x2003;<font color="blue">&#x5F53;&#x7136;&#x5982;&#x679C;&#x4F60;&#x4E0D;&#x5ACC;&#x9EBB;&#x70E6;&#x7684;&#x8BDD;&#xFF0C;&#x8FD9;&#x4E9B;&#x521D;&#x59CB;&#x5316;&#x5DE5;&#x4F5C;&#x4E5F;&#x53EF;&#x4EE5;&#x5148;&#x5728;&#x5BBF;&#x4E3B;&#x673A;&#x4E0A;&#x8FDB;&#x5165;Master&#x5BB9;&#x5668;&#xFF0C;&#x7136;&#x540E;&#x624B;&#x52A8;&#x6572;&#x4EE3;&#x7801;&#xFF0C;&#x4E00;&#x6761;&#x4E00;&#x6761;&#x53BB;&#x6267;&#x884C;&#xFF0C;&#x6211;&#x6BD4;&#x8F83;&#x61D2;&#xFF0C;&#x5C31;&#x6574;&#x5408;&#x5230;&#x811A;&#x672C;&#x91CC;&#x9762;&#x4E86;&#x3002;</font></p>
<h4 id="2-3-6-&#x542F;&#x52A8;&#x96C6;&#x7FA4;"><a href="#2-3-6-&#x542F;&#x52A8;&#x96C6;&#x7FA4;" class="headerlink" title="2.3.6 &#x542F;&#x52A8;&#x96C6;&#x7FA4;"></a>2.3.6 &#x542F;&#x52A8;&#x96C6;&#x7FA4;</h4><p>&#x2003;&#x2003;&#x8FDB;&#x5165;<strong><code>autoscripts</code></strong>&#x76EE;&#x5F55;&#xFF0C;&#x6267;&#x884C;&#x811A;&#x672C;<strong><code>start_all_in_order.sh</code></strong>&#x6765;&#x542F;&#x52A8;&#x96C6;&#x7FA4;&#xFF0C;&#x5B83;&#x4F1A;&#x6309;&#x7167;&#x7279;&#x5B9A;&#x987A;&#x5E8F;&#xFF08;Hadoop -&gt;Zookeeper -&gt; HBase -&gt; Spark&#xFF09;&#x6765;&#x786E;&#x4FDD;&#x96C6;&#x7FA4;&#x6B63;&#x786E;&#x7684;&#x88AB;&#x542F;&#x52A8;&#x3002;&#x5176;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># start hadoop first</span></span><br><span class="line">./start_hadoop.sh</span><br><span class="line">	</span><br><span class="line"><span class="comment"># start zookeeper</span></span><br><span class="line">./start_zookeeper.sh</span><br><span class="line">	</span><br><span class="line"><span class="comment"># start hbase </span></span><br><span class="line">./start_hbase.sh</span><br><span class="line">	</span><br><span class="line"><span class="comment"># start spark</span></span><br><span class="line">./start_spark.sh</span><br></pre></td></tr></table></figure></p>
<p>&#x2003;&#x2003;&#x4ECE;&#x4EE3;&#x7801;&#x6765;&#x770B;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x6309;&#x5148;&#x540E;&#x987A;&#x5E8F;&#x5206;&#x522B;&#x53BB;&#x8C03;&#x7528;&#x4E86;&#x51E0;&#x4E2A;&#x542F;&#x52A8;&#x811A;&#x672C;&#x3002;<strong>&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4E0D;&#x63A8;&#x8350;&#x5355;&#x72EC;&#x53BB;&#x6267;&#x884C;&#x8FD9;&#x51E0;&#x4E2A;&#x811A;&#x672C;&#x4E2D;&#x7684;&#x67D0;&#x4E2A;&#x3002;</strong>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5B89;&#x88C5;&#x76F8;&#x5E94;&#x7684;&#x8F6F;&#x4EF6;&#x7684;&#x8BDD;&#xFF0C;&#x6CE8;&#x6389;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;<br>&#x2003;&#x2003;&#x6267;&#x884C;&#x811A;&#x672C;&#x65F6;&#xFF0C;&#x4F1A;&#x6709;&#x4E00;&#x4E9B;&#x63D0;&#x793A;&#x4FE1;&#x606F;&#xFF0C;&#x6BD4;&#x5982;Zookeeper&#x9009;&#x4E2D;&#x4E86;&#x54EA;&#x4E2A;&#x8282;&#x70B9;&#x4F5C;&#x4E3A;<strong><code>leader</code></strong>&#xFF0C;Worker&#x7684;&#x542F;&#x52A8;&#x60C5;&#x51B5;&#x7B49;&#x7B49;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x8F93;&#x51FA;&#x622A;&#x65AD;</span></span><br><span class="line">&#xB7;&#xB7;&#xB7;</span><br><span class="line">==========================================================================</span><br><span class="line">==========================================================================</span><br><span class="line">ZooKeeper JMX enabled by default</span><br><span class="line">Using config: /usr/<span class="built_in">local</span>/zookeeper-3.4.10/bin/../conf/zoo.cfg</span><br><span class="line">inetaddr:192.168.3.112</span><br><span class="line">inetaddr:127.0.0.1</span><br><span class="line">Mode: leader</span><br><span class="line">==========================================================================</span><br><span class="line">==========================================================================</span><br><span class="line">ZooKeeper JMX enabled by default</span><br><span class="line">Using config: /usr/<span class="built_in">local</span>/zookeeper-3.4.10/bin/../conf/zoo.cfg</span><br><span class="line">inetaddr:192.168.3.111</span><br><span class="line">inetaddr:127.0.0.1</span><br><span class="line">Mode: follower</span><br><span class="line">==========================================================================</span><br><span class="line">==========================================================================</span><br><span class="line">&#xB7;&#xB7;&#xB7;</span><br><span class="line"><span class="comment"># &#x8F93;&#x51FA;&#x622A;&#x65AD;</span></span><br></pre></td></tr></table></figure></p>
<h4 id="2-3-7-&#x67E5;&#x770B;&#x96C6;&#x7FA4;"><a href="#2-3-7-&#x67E5;&#x770B;&#x96C6;&#x7FA4;" class="headerlink" title="2.3.7 &#x67E5;&#x770B;&#x96C6;&#x7FA4;"></a>2.3.7 &#x67E5;&#x770B;&#x96C6;&#x7FA4;</h4><p>&#x2003;&#x2003;&#x542F;&#x52A8;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;Docker&#x5BBF;&#x4E3B;&#x673A;&#x6216;&#x8005;VMWare&#x5BBF;&#x4E3B;&#x673A;&#x4E0A;&#x67E5;&#x770B;&#x76F8;&#x5E94;&#x7684;&#x96C6;&#x7FA4;&#x4FE1;&#x606F;&#xFF0C;&#x6BD4;&#x5982;&#x5728;&#x8BBF;&#x95EE; <a href="http://hadoop-master:50070" target="_blank" rel="noopener">http://hadoop-master:50070</a> &#x5373;&#x53EF;&#x67E5;&#x770B;Hadoop&#x96C6;&#x7FA4;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;2 -1 &#x3001;2 - 2&#x6240;&#x793A;&#xFF1A;</p>
<p><img src="/2017/08/12/Docker&#x4E0A;&#x90E8;&#x7F72;Hadoop&#x7B49;&#x5B8C;&#x5168;&#x5206;&#x5E03;&#x5F0F;&#x96C6;&#x7FA4;/Hadoop&#x96C6;&#x7FA4;&#x6982;&#x89C8;1.png" alt="&#x56FE;2 - 1 &#x2003;&#x2003; Hadoop&#x96C6;&#x7FA4;&#x6982;&#x89C8;&#x56FE;1"></p>
<p><img src="/2017/08/12/Docker&#x4E0A;&#x90E8;&#x7F72;Hadoop&#x7B49;&#x5B8C;&#x5168;&#x5206;&#x5E03;&#x5F0F;&#x96C6;&#x7FA4;/Hadoop&#x96C6;&#x7FA4;&#x6982;&#x89C8;2.png" alt="&#x56FE;2 - 2 &#x2003;&#x2003; Hadoop&#x96C6;&#x7FA4;&#x6982;&#x89C8;&#x56FE;2"></p>
<p>&#x2003;&#x2003;&#x8BBF;&#x95EE; <a href="http://hadoop-master:8080" target="_blank" rel="noopener">http://hadoop-master:8080</a> &#x5373;&#x53EF;&#x67E5;&#x770B;Spark&#x96C6;&#x7FA4;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;2 -3 &#x3001;2 - 4&#x6240;&#x793A;&#xFF1A;</p>
<p><img src="/2017/08/12/Docker&#x4E0A;&#x90E8;&#x7F72;Hadoop&#x7B49;&#x5B8C;&#x5168;&#x5206;&#x5E03;&#x5F0F;&#x96C6;&#x7FA4;/Spark&#x96C6;&#x7FA4;&#x6982;&#x89C8;1.png" alt="&#x56FE;2 - 3 &#x2003;&#x2003;Spark&#x96C6;&#x7FA4;&#x6982;&#x89C8;1"></p>
<p><img src="/2017/08/12/Docker&#x4E0A;&#x90E8;&#x7F72;Hadoop&#x7B49;&#x5B8C;&#x5168;&#x5206;&#x5E03;&#x5F0F;&#x96C6;&#x7FA4;/Spark&#x96C6;&#x7FA4;&#x6982;&#x89C8;2.png" alt="&#x56FE;2 - 4 &#x2003;&#x2003; Spark&#x96C6;&#x7FA4;&#x6982;&#x89C8;2"></p>
<p>&#x2003;&#x2003;&#x8BBF;&#x95EE; <a href="http://hadoop-master:16010" target="_blank" rel="noopener">http://hadoop-master:16010</a> &#x5373;&#x53EF;&#x67E5;&#x770B;HBase&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;2 -5 &#x3001;2 - 6&#x6240;&#x793A;&#xFF1A;</p>
<p><img src="/2017/08/12/Docker&#x4E0A;&#x90E8;&#x7F72;Hadoop&#x7B49;&#x5B8C;&#x5168;&#x5206;&#x5E03;&#x5F0F;&#x96C6;&#x7FA4;/HBase&#x6982;&#x89C8;1.png" alt="&#x56FE;2 - 5 &#x2003;&#x2003;HBase&#x6982;&#x89C8;1"></p>
<p><img src="/2017/08/12/Docker&#x4E0A;&#x90E8;&#x7F72;Hadoop&#x7B49;&#x5B8C;&#x5168;&#x5206;&#x5E03;&#x5F0F;&#x96C6;&#x7FA4;/HBase&#x6982;&#x89C8;2.png" alt="&#x56FE;2 - 6 &#x2003;&#x2003; HBase&#x6982;&#x89C8;2"></p>
<p>&#x2003;&#x2003;&#x81F3;&#x6B64;&#xFF0C;&#x96C6;&#x7FA4;&#x90E8;&#x7F72;&#x5B8C;&#x6210;&#xFF01;</p>
<h3 id="2-4-&#x96C6;&#x7FA4;&#x7BA1;&#x7406;"><a href="#2-4-&#x96C6;&#x7FA4;&#x7BA1;&#x7406;" class="headerlink" title="2.4 &#x96C6;&#x7FA4;&#x7BA1;&#x7406;"></a>2.4 &#x96C6;&#x7FA4;&#x7BA1;&#x7406;</h3><p>&#x2003;&#x2003;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x96C6;&#x7FA4;&#x3001;Docker&#x5BB9;&#x5668;&#x7684;&#x7BA1;&#x7406;&#xFF0C;&#x7F16;&#x5199;&#x4E86;&#x4E00;&#x4E9B;&#x6279;&#x91CF;&#x81EA;&#x52A8;&#x5316;&#x64CD;&#x4F5C;&#x811A;&#x672C;&#xFF0C;&#x8FD9;&#x4E9B;&#x811A;&#x672C;&#x90FD;&#x4F4D;&#x4E8E;<strong><code>autoscripts</code></strong>&#x76EE;&#x5F55;&#x4E0B;&#x3002;&#x811A;&#x672C;&#x529F;&#x80FD;&#x53C2;&#x89C1;&#x524D;&#x9762;&#x7684;<strong>2.2&#x8282;&#x90E8;&#x7F72;&#x8BF4;&#x660E;</strong>&#x3002;</p>
<h4 id="2-4-1-&#x505C;&#x6B62;&#x96C6;&#x7FA4;"><a href="#2-4-1-&#x505C;&#x6B62;&#x96C6;&#x7FA4;" class="headerlink" title="2.4.1 &#x505C;&#x6B62;&#x96C6;&#x7FA4;"></a>2.4.1 &#x505C;&#x6B62;&#x96C6;&#x7FA4;</h4><p>&#x2003;&#x2003;&#x8FDB;&#x5165;<strong><code>autoscripts</code></strong>&#x76EE;&#x5F55;&#xFF0C;&#x6267;&#x884C;&#x811A;&#x672C;<strong><code>stop_all_in_order.sh</code></strong>&#x6765;&#x542F;&#x52A8;&#x96C6;&#x7FA4;&#xFF0C;&#x5B83;&#x4F1A;&#x6309;&#x7167;&#x7279;&#x5B9A;&#x987A;&#x5E8F;&#xFF08;HBase -&gt;Zookeeper -&gt; Spark -&gt; Hadoop&#xFF09;&#x6765;&#x786E;&#x4FDD;&#x96C6;&#x7FA4;&#x6B63;&#x786E;&#x7684;&#x88AB;&#x5173;&#x95ED;&#x3002;&#x5176;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># stop hbase </span></span><br><span class="line">./stop_hbase.sh</span><br><span class="line">    </span><br><span class="line"><span class="comment"># start zookeeper</span></span><br><span class="line">./stop_zookeeper.sh</span><br><span class="line">    </span><br><span class="line"><span class="comment"># stop spark </span></span><br><span class="line">./stop_spark.sh</span><br><span class="line">    	</span><br><span class="line"><span class="comment"># stop hadoop at last </span></span><br><span class="line">./stop_hadoop.sh</span><br></pre></td></tr></table></figure>
<p>&#x2003;&#x2003;&#x540C;&#x6837;&#x7684;&#xFF0C;<strong>&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4E0D;&#x63A8;&#x8350;&#x5355;&#x72EC;&#x53BB;&#x6267;&#x884C;&#x8FD9;&#x51E0;&#x4E2A;&#x811A;&#x672C;&#x4E2D;&#x7684;&#x67D0;&#x4E2A;&#x3002;</strong>&#x6267;&#x884C;&#x811A;&#x672C;&#x65F6;&#xFF0C;&#x4E5F;&#x4F1A;&#x6709;&#x76F8;&#x5E94;&#x7684;&#x63D0;&#x793A;&#x4FE1;&#x606F;&#x8F93;&#x51FA;&#x3002;</p>
<h4 id="2-4-2-&#x505C;&#x6B62;&#x5BB9;&#x5668;"><a href="#2-4-2-&#x505C;&#x6B62;&#x5BB9;&#x5668;" class="headerlink" title="2.4.2 &#x505C;&#x6B62;&#x5BB9;&#x5668;"></a>2.4.2 &#x505C;&#x6B62;&#x5BB9;&#x5668;</h4><p>&#x2003;&#x2003;&#x8981;&#x505C;&#x6B62;&#x5BB9;&#x5668;&#xFF0C;&#x6709;&#x51E0;&#x79CD;&#x65B9;&#x5F0F;&#xFF1A;<br>&#x2003;&#x2003;&#x2003;&#x2003; 1. &#x8FDB;&#x5165;<strong><code>autoscripts</code></strong>&#x76EE;&#x5F55;&#xFF0C;&#x6267;&#x884C;&#x811A;&#x672C;<strong><code>stop_all_container.sh</code></strong>&#xFF0C;&#x8BE5;&#x811A;&#x672C;&#x4F1A;&#x505C;&#x6B62;Hadoop&#x548C;Spark&#x96C6;&#x7FA4;&#x76F8;&#x5173;&#x7684;&#x6240;&#x6709;&#x5BB9;&#x5668;&#xFF1B;<br>&#x2003;&#x2003;&#x2003;&#x2003; 2.  &#x8FDB;&#x5165;<strong><code>spark_compose</code></strong>&#x76EE;&#x5F55;&#xFF0C;&#x6267;&#x884C;&#x547D;&#x4EE4;<strong><code>sudo docker-compose stop</code></strong>&#xFF0C;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x8BE5;&#x547D;&#x4EE4;&#xFF1B;<br>&#x2003;&#x2003;&#x2003;&#x2003; 3.  &#x8FDB;&#x5165;<strong><code>spark_compose</code></strong>&#x76EE;&#x5F55;&#xFF0C;&#x6267;&#x884C;&#x547D;&#x4EE4;<strong><code>sudo docker-compose down</code></strong>&#xFF0C;&#x8BE5;&#x547D;&#x4EE4;&#x4F1A;&#x505C;&#x6B62;&#x548C;<strong>&#x5220;&#x9664;&#x6240;&#x6709;&#x7528;yml&#x6587;&#x4EF6;&#x7F16;&#x6392;&#x542F;&#x52A8;&#x7684;&#x5BB9;&#x5668;</strong>&#xFF0C;<font color="red" size="4"><strong>&#x8C28;&#x614E;&#x4F7F;&#x7528;&#xFF01;</strong></font></p>
<h4 id="2-4-3-&#x91CD;&#x542F;&#x5BB9;&#x5668;"><a href="#2-4-3-&#x91CD;&#x542F;&#x5BB9;&#x5668;" class="headerlink" title="2.4.3 &#x91CD;&#x542F;&#x5BB9;&#x5668;"></a>2.4.3 &#x91CD;&#x542F;&#x5BB9;&#x5668;</h4><p>&#x2003;&#x2003;&#x8981;&#x91CD;&#x542F;&#x5BB9;&#x5668;&#xFF0C;&#x6709;&#x51E0;&#x79CD;&#x65B9;&#x5F0F;&#xFF1A;<br>&#x2003;&#x2003;&#x2003;&#x2003; 1. &#x8FDB;&#x5165;<strong><code>autoscripts</code></strong>&#x76EE;&#x5F55;&#xFF0C;&#x6267;&#x884C;&#x811A;&#x672C;<strong><code>start_cluster_container.sh</code></strong>&#xFF0C;&#x8BE5;&#x811A;&#x672C;&#x4F1A;&#x91CD;&#x542F;Hadoop&#x548C;Spark&#x96C6;&#x7FA4;&#x76F8;&#x5173;&#x7684;&#x6240;&#x6709;&#x5BB9;&#x5668;&#xFF1B;<br>&#x2003;&#x2003;&#x2003;&#x2003; 2. &#x8FDB;&#x5165;<strong><code>spark_compose</code></strong>&#x76EE;&#x5F55;&#xFF0C;&#x6267;&#x884C;&#x547D;&#x4EE4;<strong><code>sudo docker-compose start</code></strong>&#xFF0C;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x8BE5;&#x547D;&#x4EE4;&#xFF0C;&#x4F46;&#x8BE5;&#x547D;&#x4EE4;&#x53EA;&#x80FD;&#x542F;&#x52A8;&#x5DF2;&#x5B58;&#x5728;&#x7684;&#x5BB9;&#x5668;&#xFF0C;&#x65E0;&#x6CD5;&#x65B0;&#x5EFA;&#xFF1B;<br>&#x2003;&#x2003;&#x2003;&#x2003; 3. &#x8FDB;&#x5165;<strong><code>spark_compose</code></strong>&#x76EE;&#x5F55;&#xFF0C;&#x6267;&#x884C;&#x547D;&#x4EE4;<strong><code>sudo docker-compose up</code></strong>&#xFF0C;&#x521B;&#x5EFA;&#xFF08;&#x4E0D;&#x5B58;&#x5728;&#x3001;&#x955C;&#x50CF;&#x6709;&#x66F4;&#x65B0;&#x3001;&#x88AB;&#x4F9D;&#x8D56;&#x5BB9;&#x5668;&#x91CD;&#x5EFA;&#xFF09;&#x6216;&#x542F;&#x52A8;&#xFF08;&#x5DF2;&#x6709;&#xFF09;&#x5BB9;&#x5668;&#xFF0C;&#x5728;&#x542F;&#x52A8;&#x5BB9;&#x5668;&#x524D;&#xFF0C;&#x4F1A;&#x68C0;&#x67E5;&#x4E4B;&#x524D;&#x7684;&#x5BB9;&#x5668;&#xFF0C;&#x786E;&#x4FDD;&#x5BB9;&#x5668;&#x7684;&#x552F;&#x4E00;&#x6027;&#xFF08;<strong><code>CONTAINER ID</code></strong>&#x4E0D;&#x53D8;&#xFF09;&#xFF0C;&#x5E76;&#x4E14;&#x4F1A;&#x628A;&#x65E7;&#x5BB9;&#x5668;&#x7684;&#x6570;&#x636E;&#x62F7;&#x8D1D;&#x51FA;&#x6765;&#xFF1B;</p>
<h4 id="2-4-4-&#x5220;&#x9664;&#x5BB9;&#x5668;"><a href="#2-4-4-&#x5220;&#x9664;&#x5BB9;&#x5668;" class="headerlink" title="2.4.4 &#x5220;&#x9664;&#x5BB9;&#x5668;"></a>2.4.4 &#x5220;&#x9664;&#x5BB9;&#x5668;</h4><p>&#x2003;&#x2003;&#x8981;&#x5220;&#x9664;&#x5BB9;&#x5668;&#xFF0C;&#x6709;&#x51E0;&#x79CD;&#x65B9;&#x5F0F;&#xFF1A;<br>&#x2003;&#x2003;&#x2003;&#x2003; 1.  &#x8FDB;&#x5165;<strong><code>spark_compose</code></strong>&#x76EE;&#x5F55;&#xFF0C;&#x6267;&#x884C;&#x547D;&#x4EE4;<strong><code>sudo docker-compose down</code></strong>&#xFF0C;&#x8BE5;&#x547D;&#x4EE4;&#x4F1A;&#x505C;&#x6B62;&#x548C;<strong>&#x5220;&#x9664;&#x6240;&#x6709;&#x7528;yml&#x6587;&#x4EF6;&#x7F16;&#x6392;&#x542F;&#x52A8;&#x7684;&#x5BB9;&#x5668;</strong>&#xFF0C;<font color="red" size="4"><strong>&#x8C28;&#x614E;&#x4F7F;&#x7528;&#xFF01;</strong></font><br>&#x2003;&#x2003;&#x2003;&#x2003; 2. &#x8FDB;&#x5165;<strong><code>autoscripts</code></strong>&#x76EE;&#x5F55;&#xFF0C;&#x6267;&#x884C;&#x811A;&#x672C;<strong><code>remove_all_containers.sh</code></strong>&#xFF0C;&#x8BE5;&#x811A;&#x672C;&#x4F1A;<strong>&#x5220;&#x9664;&#x6240;&#x6709;&#x5BB9;&#x5668;&#xFF08;&#x4E0D;&#x7BA1;&#x662F;&#x4E0E;&#x96C6;&#x7FA4;&#x6709;&#x5173;&#x8FD8;&#x662F;&#x65E0;&#x5173;&#xFF09;</strong>&#xFF0C;<font color="red" size="4"><strong>&#x8C28;&#x614E;&#x4F7F;&#x7528;&#xFF01;</strong></font><br>&#x2003;&#x2003;&#x2003;&#x2003; 3. &#x6267;&#x884C;<strong><code>sudo docker rm Name/ID</code></strong>&#x547D;&#x4EE4;&#xFF0C;&#x8BE5;&#x547D;&#x4EE4;&#x4F1A;<strong>&#x5220;&#x9664;&#x6307;&#x5B9A;&#x540D;&#x5B57;&#x6216;ID&#x7684;&#x5BB9;&#x5668;</strong>&#xFF0C;<font color="blue" size="4"><strong>&#x63A8;&#x8350;&#xFF01;</strong></font></p>
<h4 id="2-4-5-&#x5220;&#x9664;&#x955C;&#x50CF;"><a href="#2-4-5-&#x5220;&#x9664;&#x955C;&#x50CF;" class="headerlink" title="2.4.5 &#x5220;&#x9664;&#x955C;&#x50CF;"></a>2.4.5 &#x5220;&#x9664;&#x955C;&#x50CF;</h4><p>&#x2003;&#x2003;&#x8FDB;&#x5165;<strong><code>spark_compose</code></strong>&#x76EE;&#x5F55;&#xFF0C;&#x6267;&#x884C;&#x811A;&#x672C;<strong><code>remove_cluster_images.sh</code></strong>&#xFF0C;&#x4F1A;&#x5220;&#x9664;<strong><code>TAG</code></strong>&#x4E3A;hadoop-master&#x548C;hadoop-slave&#x7684;&#x8FD9;&#x4E24;&#x4E2A;Docker&#x955C;&#x50CF;&#x3002;</p>
<h3 id="2-5-&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;"><a href="#2-5-&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;" class="headerlink" title="2.5 &#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;"></a>2.5 &#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;</h3><p>&#x2003;&#x2003;&#x5173;&#x4E8E;&#x5982;&#x4F55;&#x5728;Docker&#x4E0A;&#x90E8;&#x7F72;Hadoop&#xFF0C;&#x7F51;&#x4E0A;&#x6709;&#x4E00;&#x4E9B;&#x8D44;&#x6599;&#xFF0C;&#x4F46;&#x662F;&#x90FD;&#x6BD4;&#x8F83;&#x96F6;&#x6563;&#xFF0C;&#x5E76;&#x4E14;&#x6211;&#x7684;&#x9700;&#x6C42;&#x8DDF;&#x5927;&#x591A;&#x6570;&#x90FD;&#x4E0D;&#x592A;&#x4E00;&#x6837;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x6298;&#x817E;&#x8FC7;&#x7A0B;&#x4E2D;&#x8FD8;&#x662F;&#x586B;&#x4E86;&#x4E0D;&#x5C11;&#x5751;&#xFF0C;&#x7279;&#x6B64;&#x8BB0;&#x5F55;&#x3002;</p>
<h4 id="2-5-1-&#x514D;&#x5BC6;&#x767B;&#x5F55;&#x95EE;&#x9898;"><a href="#2-5-1-&#x514D;&#x5BC6;&#x767B;&#x5F55;&#x95EE;&#x9898;" class="headerlink" title="2.5.1 &#x514D;&#x5BC6;&#x767B;&#x5F55;&#x95EE;&#x9898;"></a>2.5.1 &#x514D;&#x5BC6;&#x767B;&#x5F55;&#x95EE;&#x9898;</h4><p>&#x2003;&#x2003;&#x6309;&#x7167;Hadoop&#x5B89;&#x88C5;&#x6559;&#x7A0B;&#x6307;&#x5BFC;&#xFF0C;&#x914D;&#x7F6E;SSH&#x8FDC;&#x7A0B;&#x514D;&#x5BC6;&#x767B;&#x9646;&#x540E;&#xFF0C;&#x5728;&#x542F;&#x52A8;&#x96C6;&#x7FA4;&#x65F6;&#x53D1;&#x73B0;&#x867D;&#x7136;&#x4E0D;&#x9700;&#x8981;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#xFF0C;&#x4F46;&#x662F;&#x6BCF;&#x6B21;&#x542F;&#x52A8;&#x96C6;&#x7FA4;&#x3001;&#x6BCF;&#x767B;&#x5F55;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x90FD;&#x4F1A;&#x63D0;&#x793A;&#x6709;&#x65B0;&#x7684;&#x4E3B;&#x673A;&#xFF0C;&#x662F;&#x5426;&#x6DFB;&#x52A0;&#x516C;&#x94A5;&#x5230;&#x4FE1;&#x4EFB;&#x5217;&#x8868;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The authenticity of host <span class="string">&apos;spark-slave (192.168.3.111)&apos;</span> can<span class="string">&apos;t be established.</span></span><br><span class="line"><span class="string">ECDSA key fingerprint is SHA256:XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX.</span></span><br><span class="line"><span class="string">Are you sure you want to continue connecting (yes/no)?</span></span><br></pre></td></tr></table></figure></p>
<p>&#x2003;&#x2003;&#x6BCF;&#x6B21;&#x90FD;&#x8981;&#x624B;&#x52A8;&#x786E;&#x8BA4;&#xFF0C;&#x6BD4;&#x8F83;&#x70E6;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x4FEE;&#x6539;&#x4E86;ssh&#x7684;&#x76F8;&#x5173;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5173;&#x95ED;&#x4E86;&#x8FD9;&#x4E2A;&#x786E;&#x8BA4;&#x4EA4;&#x4E92;&#xFF0C;&#x6539;&#x52A8;&#x7684;&#x6587;&#x4EF6;&#x4E3A;<strong><code>ssh_config&#xFF08;&#x8BE5;&#x6587;&#x4EF6;&#x4F4D;&#x4E8E;/etc/ssh&#x76EE;&#x5F55;&#x4E0B;</code></strong>&#xFF0C;&#x5728;&#x8BE5;&#x6587;&#x4EF6;&#x4E2D;&#x52A0;&#x5165;&#x4E86;&#x4E24;&#x884C;&#x4EE3;&#x7801;&#xFF1A;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">StrictHostKeyChecking no</span><br><span class="line">UserKnownHostsFile /dev/null</span><br></pre></td></tr></table></figure></p>
<p>&#x2003;&#x2003;&#x8FD9;&#x6837;&#x6BCF;&#x6B21;&#x767B;&#x9646;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x5C31;&#x4E0D;&#x4F1A;&#x8981;&#x6C42;&#x8F93;&#x5165;<code>yes</code>&#x6765;&#x786E;&#x8BA4;&#x4E86;&#x3002;<strong><font color="red" size="4">&#x4F46;&#x662F;&#x8BF7;&#x52A1;&#x5FC5;&#x6CE8;&#x610F;&#xFF0C;&#x56E0;&#x4E3A;&#x4E0D;&#x505A;&#x516C;&#x94A5;&#x68C0;&#x67E5;&#xFF0C;&#x6240;&#x4EE5;&#x5B58;&#x5728;&#x8F83;&#x5927;&#x5B89;&#x5168;&#x9690;&#x60A3;&#xFF0C;&#x6BD4;&#x5982;&#x4E2D;&#x95F4;&#x4EBA;&#x653B;&#x51FB;&#x7B49;&#x7B49;&#x3002;</font></strong></p>
<h4 id="2-5-2-&#x7F51;&#x7EDC;&#x51B2;&#x7A81;"><a href="#2-5-2-&#x7F51;&#x7EDC;&#x51B2;&#x7A81;" class="headerlink" title="2.5.2 &#x7F51;&#x7EDC;&#x51B2;&#x7A81;"></a>2.5.2 &#x7F51;&#x7EDC;&#x51B2;&#x7A81;</h4><p>&#x2003;&#x2003;&#x6700;&#x5F00;&#x59CB;&#x6211;&#x5E76;&#x6CA1;&#x6709;&#x4F7F;&#x7528;docker-compose&#x6765;&#x8BBE;&#x5B9A;&#x96C6;&#x7FA4;IP&#xFF0C;&#x5C31;&#x7528;&#x5230;&#x4E86;<strong><code>brctl&#x3001;pipwork</code></strong>&#x5DE5;&#x5177;&#x6765;&#x521B;&#x5EFA;&#x548C;&#x7BA1;&#x7406;&#x6865;&#x63A5;&#x7F51;&#x7EDC;&#xFF0C;&#x540E;&#x6765;&#x4F7F;&#x7528;docker-compose&#x6784;&#x5EFA;spark&#x96C6;&#x7FA4;&#x65F6;&#xFF0C;&#x5B9A;&#x4E49;&#x7684;&#x9759;&#x6001;&#x7F51;&#x7EDC;&#x4E0E;&#x7528;brctl&#x5DE5;&#x5177;&#x521B;&#x5EFA;&#x7684;&#x7F51;&#x7EDC;&#x56E0;&#x4E3A;&#x7F51;&#x6BB5;&#x76F8;&#x540C;&#x800C;&#x5F15;&#x53D1;&#x51B2;&#x7A81;&#xFF0C;&#x5BFC;&#x81F4;&#x96C6;&#x7FA4;&#x65E0;&#x6CD5;&#x6B63;&#x5E38;&#x8BBF;&#x95EE;&#x3002;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x662F;&#x66F4;&#x6539;&#x7F51;&#x6BB5;&#xFF0C;&#x6216;&#x8005;&#x5220;&#x9664;<strong><code>brctl</code></strong>&#x521B;&#x5EFA;&#x7684;&#x7F51;&#x7EDC;&#x5373;&#x53EF;&#x3002;</p>
<h4 id="2-5-3-&#x9ED8;&#x8BA4;shell"><a href="#2-5-3-&#x9ED8;&#x8BA4;shell" class="headerlink" title="2.5.3 &#x9ED8;&#x8BA4;shell"></a>2.5.3 &#x9ED8;&#x8BA4;shell</h4><p>&#x2003;&#x2003;&#x521B;&#x5EFA;hadoop&#x8D26;&#x6237;&#x65F6;&#xFF0C;&#x4E4B;&#x524D;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x9ED8;&#x8BA4;shell&#x7C7B;&#x578B;&#xFF0C;&#x8FDC;&#x7A0B;&#x767B;&#x9646;&#x4EC5;&#x5BB9;&#x5668;&#x540E;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x63D0;&#x793A;&#x7B26;$&#xFF0C;&#x6267;&#x884C;&#x547D;&#x4EE4;&#xFF1A;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="variable">$SHELL</span></span><br></pre></td></tr></table></figure></p>
<p>&#x2003;&#x2003;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5F53;&#x524D;&#x7684;shell&#x7C7B;&#x578B;&#x662F;<strong><code>/bin/sh</code></strong>&#x800C;&#x4E0D;&#x662F;<strong><code>/bin/bash</code></strong>&#xFF0C;&#x4F7F;&#x7528;<strong><code>chsh</code></strong>&#x6539;&#x53D8;shell&#x7C7B;&#x578B;&#x63D0;&#x793A;&#x4E0D;&#x80FD;&#x66F4;&#x6539;&#x3002;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x662F;&#x5728;&#x6784;&#x5EFA;&#x57FA;&#x7840;&#x955C;&#x50CF;hadoop-base&#x65F6;&#xFF0C;&#x6307;&#x5B9A;shell&#x7C7B;&#x578B;&#xFF0C;&#x539F;&#x6765;&#x7684;<strong><code>base.yml</code></strong>&#x4E2D;&#x521B;&#x5EFA;&#x7528;&#x6237;&#x4EE3;&#x7801;&#x4E3A;&#xFF1A;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">RUN useradd -m hadoop -g hadoop -p 123456</span><br></pre></td></tr></table></figure></p>
<p>&#x2003;&#x2003;&#x66F4;&#x6539;&#x540E;&#x4E3A;&#xFF1A;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">RUN useradd -m hadoop -g hadoop -p 123456  <span class="_">-s</span> /bin/bash</span><br></pre></td></tr></table></figure></p>
<h4 id="2-5-4-Docker-compose&#x5B89;&#x88C5;"><a href="#2-5-4-Docker-compose&#x5B89;&#x88C5;" class="headerlink" title="2.5.4 Docker-compose&#x5B89;&#x88C5;"></a>2.5.4 Docker-compose&#x5B89;&#x88C5;</h4><p>&#x2003;&#x2003;Docker&#x662F;&#x6CA1;&#x6709;&#x81EA;&#x5E26;Docker-compose&#x547D;&#x4EE4;&#x7684;&#xFF0C;&#x9700;&#x8981;&#x5148;&#x5B89;&#x88C5;&#x8FD9;&#x4E2A;&#x8F6F;&#x4EF6;&#x3002;Docker-compose&#x7684;&#x5B89;&#x88C5;&#x6709;&#x591A;&#x79CD;&#x65B9;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<strong><code>curl</code></strong>&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<strong><code>pip</code></strong>&#xFF0C;&#x6211;&#x662F;&#x7528;&#x7684;<strong><code>pip</code></strong>&#x5B89;&#x88C5;&#x7684;&#xFF0C;&#x5B89;&#x88C5;&#x597D;&#x540E;&#x7248;&#x672C;&#x53F7;&#x4E3A;<strong><code>docker-compose version 1.15.0, build e12f3b9</code></strong>&#xFF0C;&#x5728;Docker&#x7684;&#x5BBF;&#x4E3B;&#x673A;&#x4E0A;&#x5B89;&#x88C5;Docker-compose&#x9700;&#x8981;&#x5B89;&#x88C5;python&#x53CA;pip&#xFF0C;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x5982;&#x4E0B;&#xFF1A;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install python-pip python-dev build-essential </span><br><span class="line">$ sudo pip install --upgrade pip </span><br><span class="line">$ sudo pip install --upgrade virtualenv</span><br><span class="line">$ sudo pip install docker-compose</span><br></pre></td></tr></table></figure></p>
<h4 id="2-5-5-Spark&#x7684;4040"><a href="#2-5-5-Spark&#x7684;4040" class="headerlink" title="2.5.5 Spark&#x7684;4040"></a>2.5.5 Spark&#x7684;4040</h4><p>&#x2003;&#x2003;Spark&#x7684;4040&#x7F51;&#x5740;&#x53EA;&#x6709;&#x5728;&#x4EFB;&#x52A1;&#x6267;&#x884C;&#x671F;&#x95F4;&#x624D;&#x80FD;&#x67E5;&#x770B;&#xFF0C;&#x8981;&#x5728;&#x4EFB;&#x52A1;&#x7ED3;&#x675F;&#x540E;&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#xFF0C;&#x9700;&#x8981;&#x914D;&#x7F6E;spark-history&#x3002;</p>
<h4 id="2-5-6-&#x73AF;&#x5883;&#x811A;&#x672C;&#x5931;&#x6548;"><a href="#2-5-6-&#x73AF;&#x5883;&#x811A;&#x672C;&#x5931;&#x6548;" class="headerlink" title="2.5.6 &#x73AF;&#x5883;&#x811A;&#x672C;&#x5931;&#x6548;"></a>2.5.6 &#x73AF;&#x5883;&#x811A;&#x672C;&#x5931;&#x6548;</h4><p>&#x2003;&#x2003;shell&#x4E2D;&#x6309;&#x7167;<strong><code>./xxx.sh &#x6216; bash xx.sh</code></strong>&#x65B9;&#x5F0F;&#x8FD0;&#x884C;&#x811A;&#x672C;&#x914D;&#x7F6E;&#x7CFB;&#x7EDF;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x65F6;&#xFF08;&#x7279;&#x522B;&#x662F;&#x4E00;&#x4E9B;&#x547D;&#x4EE4;&#x522B;&#x540D;alias&#xFF09;&#x53EF;&#x80FD;&#x4E0D;&#x751F;&#x6548;&#xFF0C;&#x6539;&#x7528;&#x547D;&#x4EE4;<strong><code>source xxx.sh</code></strong>&#x5373;&#x53EF;&#x3002;</p>
<h4 id="2-5-7-&#x627E;&#x4E0D;&#x5230;&#x8D44;&#x6599;"><a href="#2-5-7-&#x627E;&#x4E0D;&#x5230;&#x8D44;&#x6599;" class="headerlink" title="2.5.7 &#x627E;&#x4E0D;&#x5230;&#x8D44;&#x6599;"></a>2.5.7 &#x627E;&#x4E0D;&#x5230;&#x8D44;&#x6599;</h4><p>&#x2003;&#x2003;&#x6700;&#x5F00;&#x59CB;&#x7528;Docker-compose&#x914D;&#x7F6E;&#x9759;&#x6001;IP&#x65F6;&#xFF0C;&#x627E;&#x4E86;&#x597D;&#x591A;&#x8D44;&#x6599;&#xFF0C;&#x90FD;&#x6CA1;&#x6709;&#x8BB2;&#x5982;&#x4F55;&#x7ED9;&#x5BB9;&#x5668;&#x521B;&#x5EFA;&#x6307;&#x5B9A;&#x7F51;&#x7EDC;&#x5E76;&#x5206;&#x914D;&#x6307;&#x5B9A;&#x7F51;&#x6BB5;&#xFF0C;&#x6709;&#x4E5F;&#x662F;&#x8BED;&#x7109;&#x4E0D;&#x8BE6;&#xFF0C;&#x540E;&#x6765;&#x8FD8;&#x662F;&#x53BB;&#x5B98;&#x7F51;<strong><code>Docs</code></strong>&#x67E5;&#x5230;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x5F53;&#x767E;&#x5EA6;&#x6216;&#x8C37;&#x6B4C;&#x641C;&#x4E0D;&#x5230;&#x4F60;&#x8981;&#x7684;&#x8D44;&#x6599;&#x65F6;&#xFF0C;&#x4E0D;&#x59A8;&#x8010;&#x4E0B;&#x6027;&#x5B50;&#x5543;&#x5543;&#x5B98;&#x65B9;&#x82F1;&#x6587;&#x6587;&#x6863;&#xFF0C;&#x6216;&#x8BB8;&#x4F1A;&#x6709;&#x610F;&#x60F3;&#x4E0D;&#x5230;&#x7684;&#x6536;&#x83B7;&#x3002;</p>
<h2 id="&#x4E09;&#x3001;&#x7ED3;&#x8BED;"><a href="#&#x4E09;&#x3001;&#x7ED3;&#x8BED;" class="headerlink" title="&#x4E09;&#x3001;&#x7ED3;&#x8BED;"></a>&#x4E09;&#x3001;&#x7ED3;&#x8BED;</h2><p>&#x2003;&#x2003;&#x767D;&#x5929;&#x5DE5;&#x4F5C;&#xFF0C;&#x665A;&#x4E0A;&#x6DF1;&#x591C;&#x52A0;&#x73ED;&#x8D76;&#x7A3F;&#xFF0C;&#x4FEE;&#x4FEE;&#x6539;&#x6539;&#xFF0C;&#x7F1D;&#x7F1D;&#x8865;&#x8865;&#xFF0C;&#x7528;&#x4E86;&#x4E00;&#x5468;&#x591A;&#x624D;&#x5199;&#x5B8C;&#x3002;&#x4E5F;&#x53EA;&#x6709;&#x8FD9;&#x6837;&#x624D;&#x4E0D;&#x4F1A;&#x6709;&#x65F6;&#x95F4;&#x53BB;&#x60F3;&#x4E00;&#x4E9B;&#x4E8B;&#x5427;&#xFF01;</p>
<h3 id="3-1-&#x5F85;&#x5B8C;&#x5584;"><a href="#3-1-&#x5F85;&#x5B8C;&#x5584;" class="headerlink" title="3.1 &#x5F85;&#x5B8C;&#x5584;"></a>3.1 &#x5F85;&#x5B8C;&#x5584;</h3><p>&#x2003;&#x2003;&#x7531;&#x4E8E;&#x65F6;&#x95F4;&#x4ED3;&#x4FC3;&#xFF0C;&#x6240;&#x4EE5;&#x4E00;&#x4E9B;&#x81EA;&#x52A8;&#x5316;&#x811A;&#x672C;&#x5199;&#x7684;&#x6BD4;&#x8F83;&#x7C97;&#x7CD9;&#xFF0C;&#x955C;&#x50CF;&#x89C4;&#x5212;&#x4E5F;&#x4E0D;&#x662F;&#x7279;&#x522B;&#x597D;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;Master&#x548C;Slave&#x8282;&#x70B9;&#x53EF;&#x4EE5;&#x5171;&#x7528;&#x4E00;&#x5957;Image&#xFF0C;&#x5B8C;&#x5168;&#x4E0D;&#x9700;&#x8981;&#x4E3A;&#x4E86;&#x51E0;&#x4E2A;&#x5C0F;&#x6587;&#x4EF6;&#x641E;&#x6210;&#x5355;&#x72EC;&#x7684;&#x4E24;&#x5957;&#x3002;&#x540E;&#x671F;&#x4F18;&#x5316;&#x548C;&#x5B8C;&#x5584;&#x7684;&#x5730;&#x65B9;&#x6709;&#xFF1A;</p>
<ul>
<li>Master&#x548C;Slave&#x955C;&#x50CF;&#x5408;&#x5E76;&#xFF1B;</li>
<li>&#x96C6;&#x7FA4;&#x955C;&#x50CF;&#x7CBE;&#x7B80;&#xFF1B;</li>
<li>&#x81EA;&#x52A8;&#x5316;&#x811A;&#x672C;&#x7EC6;&#x5316;&#x3001;&#x6574;&#x5408;&#xFF1B;</li>
</ul>
<h3 id="3-2-Docker&#x77E5;&#x8BC6;"><a href="#3-2-Docker&#x77E5;&#x8BC6;" class="headerlink" title="3.2 Docker&#x77E5;&#x8BC6;"></a>3.2 Docker&#x77E5;&#x8BC6;</h3><h4 id="3-2-1-&#x5E38;&#x7528;&#x547D;&#x4EE4;&#x5206;&#x7C7B;"><a href="#3-2-1-&#x5E38;&#x7528;&#x547D;&#x4EE4;&#x5206;&#x7C7B;" class="headerlink" title="3.2.1 &#x5E38;&#x7528;&#x547D;&#x4EE4;&#x5206;&#x7C7B;"></a>3.2.1 &#x5E38;&#x7528;&#x547D;&#x4EE4;&#x5206;&#x7C7B;</h4><ul>
<li>&#x5BB9;&#x5668;&#x542F;&#x505C; &#x2014; <font color="blue">docker [run|start|stop|restart|kill|rm|pause|unpause] </font></li>
<li>&#x5BB9;&#x5668;&#x8FD0;&#x7EF4; &#x2014; <font color="blue">docker [ps|inspect|top|attach|events|logs|wait|export|port] </font></li>
<li>&#x5BB9;&#x5668;&#x66F4;&#x6539; &#x2014; <font color="blue">docker [commit|cp|diff] </font></li>
<li>&#x955C;&#x50CF;&#x4ED3;&#x5E93; &#x2014; <font color="blue">docker [login|pull|push|search] </font></li>
<li>&#x955C;&#x50CF;&#x7BA1;&#x7406; &#x2014; <font color="blue">docker [images|rmi|tag|build|history|save|import] </font></li>
<li>&#x5176;&#x4ED6; &#x2014; <font color="blue">docker [info|version] </font></li>
</ul>
<h4 id="3-2-2-&#x5E38;&#x7528;&#x547D;&#x4EE4;&#x901F;&#x67E5;"><a href="#3-2-2-&#x5E38;&#x7528;&#x547D;&#x4EE4;&#x901F;&#x67E5;" class="headerlink" title="3.2.2 &#x5E38;&#x7528;&#x547D;&#x4EE4;&#x901F;&#x67E5;"></a>3.2.2 &#x5E38;&#x7528;&#x547D;&#x4EE4;&#x901F;&#x67E5;</h4><ul>
<li>docker version | info &#x67E5;&#x770B;Docker&#x7248;&#x672C; | &#x7CFB;&#x7EDF;&#x4FE1;&#x606F;</li>
<li>docker run -t -i container-name /bin/bash &#x4EE5;&#x4EA4;&#x4E92;&#x65B9;&#x5F0F;&#x8FD0;&#x884C;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;&#xFF0C;&#x8FD0;&#x884C;&#x540E;&#x6267;&#x884C;/bin/bash</li>
<li>docker ps -a | -l &#x67E5;&#x770B;&#x6240;&#x6709;&#x5BB9;&#x5668;&#xFF08;&#x5305;&#x542B;&#x505C;&#x6B62;&#x7684;&#xFF09; | &#x6700;&#x8FD1;&#x4E00;&#x6B21;&#x542F;&#x52A8;&#x7684;&#x5BB9;&#x5668;&#x4FE1;&#x606F;</li>
<li>docker stop | start | kill | restart Name/ID &#x505C;&#x6B62; | &#x542F;&#x52A8; | &#x6740;&#x6B7B; | &#x91CD;&#x542F; &#x6307;&#x5B9A;&#x5BB9;&#x5668;</li>
<li>docker logs Name/ID &#x4ECE;&#x53EA;&#x7B49;&#x5BB9;&#x5668;&#x4E2D;&#x8BFB;&#x53D6;&#x65E5;&#x5FD7;</li>
<li>docker diff Name/ID &#x67E5;&#x770B;&#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x4E2D;&#x88AB;&#x6539;&#x53D8;&#x7684;&#x76EE;&#x5F55;&#x6216;&#x6587;&#x4EF6;&#xFF08;A.&#x589E;&#x52A0;&#x7684; D.&#x5220;&#x9664;&#x7684; C.&#x6539;&#x53D8;&#x7684;&#xFF09;</li>
<li>docker top Name/ID &#x663E;&#x793A;&#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x7684;&#x8FDB;&#x7A0B;&#x4FE1;&#x606F;</li>
<li>docker cp Name/ID : container_path outer_path &#x4ECE;&#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x4E2D;&#x62F7;&#x8D1D;&#x6587;&#x4EF6;/&#x76EE;&#x5F55;&#x5230;&#x672C;&#x5730;&#xFF08;&#x5BBF;&#x4E3B;&#x673A;&#xFF09;</li>
<li>docker images &#x67E5;&#x770B;&#x6240;&#x6709;&#x955C;&#x50CF;&#x4FE1;&#x606F;</li>
<li>docker pull repository:image &#x4ECE;&#x7F51;&#x4E0A;&#x6307;&#x5B9A;&#x4ED3;&#x5E93;&#x62C9;&#x53D6;&#x6307;&#x5B9A;&#x955C;&#x50CF;</li>
<li>docke push username/repository:tag &#x63A8;&#x9001;&#x540D;&#x4E3A;&#x6807;&#x7B7E;&#x4E3A;tag&#x7684;&#x955C;&#x50CF;&#x5230;&#x7528;&#x6237;username&#x7684;&#x4ED3;&#x5E93;repository&#xFF08;&#x63A8;&#x9001;&#x524D;&#x9700;&#x8981;&#x5148;&#x4F7F;&#x7528;docker tag local username/repository:tag&#x7ED9;&#x672C;&#x5730;&#x955C;&#x50CF;&#x6253;&#x4E0A;&#x5BF9;&#x5E94;TAG&#xFF09;</li>
<li>docker save -o image.tgz image &#x5BFC;&#x51FA;&#x6307;&#x5B9A;&#x955C;&#x50CF;&#x4E3A;&#x538B;&#x7F29;&#x6587;&#x4EF6;image.tgz</li>
<li>docker load (&#x2013;input image.tar) | (&lt; image.tar) &#x4ECE;&#x540D;&#x4E3A;image.tar&#x7684;&#x538B;&#x7F29;&#x5305;&#x52A0;&#x8F7D;&#x4E00;&#x4E2A;&#x955C;&#x50CF;</li>
<li>docker login &#x767B;&#x5F55;&#x5230;docker hub</li>
<li>docker rmi image &#x5220;&#x9664;&#x540D;&#x4E3A;image&#x7684;&#x955C;&#x50CF;</li>
<li>docker rm container &#x5220;&#x9664;&#x540D;&#x4E3A;container&#x7684;&#x5BB9;&#x5668;&#xFF0C;&#x5F3A;&#x5236;&#x5220;&#x9664;&#xFF08;&#x8FD0;&#x884C;&#x4E2D;&#x7684;&#x65E0;&#x6CD5;&#x5220;&#x9664;&#xFF09;&#x9700;&#x8981;&#x52A0;&#x53C2;&#x6570;-f&#x3002;</li>
<li>docker search image &#x5728;Docker hub&#x4E2D;&#x641C;&#x7D22;&#x540D;&#x4E3A;image&#x7684;&#x955C;&#x50CF;</li>
<li>docker stats &#x67E5;&#x770B;&#x5BB9;&#x5668;&#x5360;&#x7528;&#x8D44;&#x6E90;&#x60C5;&#x51B5;&#xFF0C;&#x5305;&#x62EC;CPU&#x3001;&#x5185;&#x5B58;&#x3001;&#x5E26;&#x5BBD;</li>
<li>docker exec -ti/-d container /bin/bahs &#x4F7F;&#x7528;exec&#x4EE5;&#x540E;&#x53F0;&#xFF08;-d&#xFF09;&#x6216;&#x4EA4;&#x4E92;&#x65B9;&#x5F0F;&#xFF08;-ti&#xFF09;&#x542F;&#x52A8;&#x5BB9;&#x5668;</li>
<li>docker commit -m=&#x201D;my commit log&#x201D; &#x2013;author=&#x201D;flat2010&#x201D; container_id repository/image &#x5C06;&#x5BB9;&#x5668;ID&#x4E3A;container_id&#x7684;&#x5BB9;&#x5668;&#x7684;&#x4FEE;&#x6539;&#x4FDD;&#x5B58;&#x4E3A;&#x4ED3;&#x5E93;&#x540D;/&#x955C;&#x50CF;&#x540D;&#x4E3A;repository/image&#x7684;&#x65B0;&#x955C;&#x50CF;&#xFF0C;&#x6307;&#x5B9A;&#x4F5C;&#x8005;&#x4E3A;flat2010&#xFF0C;&#x66F4;&#x65B0;&#x65E5;&#x5FD7;&#x4E3A;&#x201D;my commit log&#x201D;</li>
<li>docker attach contaner  &#x6302;&#x5728;&#x5230;&#x540D;&#x4E3A;contaner&#x7684;&#x5BB9;&#x5668;&#x4E2D;&#x8FD0;&#x884C;&#xFF0C;&#x4E00;&#x65E6;&#x6309;&#x4E0B;ctrl+c&#xFF0C;&#x5BB9;&#x5668;&#x5C31;&#x4F1A;&#x505C;&#x6B62;</li>
<li>docker built -t image dockerfile_dir &#x4EE5;dodkerfile_dir&#x76EE;&#x5F55;&#x4E2D;&#x7684;Dockerfile&#x4E3A;&#x84DD;&#x672C;&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;image&#x7684;&#x955C;&#x50CF;</li>
<li>docker inspect image &#x67E5;&#x770B;&#x955C;&#x50CF;image&#x7684;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#xFF08;<strong>&#x6253;&#x5370;&#x7684;&#x4FE1;&#x606F;&#x4F1A;&#x975E;&#x5E38;&#x591A;</strong>&#xFF09;</li>
</ul>
<h4 id="3-2-3-&#x66B4;&#x9732;&#x548C;&#x6620;&#x5C04;&#x533A;&#x522B;"><a href="#3-2-3-&#x66B4;&#x9732;&#x548C;&#x6620;&#x5C04;&#x533A;&#x522B;" class="headerlink" title="3.2.3 &#x66B4;&#x9732;&#x548C;&#x6620;&#x5C04;&#x533A;&#x522B;"></a>3.2.3 &#x66B4;&#x9732;&#x548C;&#x6620;&#x5C04;&#x533A;&#x522B;</h4><p>&#x2003;&#x2003;&#x901A;&#x8FC7;&#x53C2;&#x6570;<strong><code>EXPOSE</code></strong>&#x6307;&#x5B9A;&#x7684;&#x7AEF;&#x53E3;&#x79F0;&#x4E3A;&#x66B4;&#x9732;&#x7AEF;&#x53E3;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x7AEF;&#x53E3;&#x53EA;&#x80FD;&#x5728;&#x5BB9;&#x5668;&#x4E4B;&#x95F4;&#x76F8;&#x4E92;&#x8BBF;&#x95EE;&#x65F6;&#x4F7F;&#x7528;&#xFF0C;&#x5728;&#x5BBF;&#x4E3B;&#x673A;&#x4E0A;&#x5F0F;&#x65E0;&#x6CD5;&#x8BBF;&#x95EE;&#x7684;&#x3002;&#x800C;&#x901A;&#x8FC7;&#x53C2;&#x6570;<strong><code>PORT</code></strong>&#x6307;&#x5B9A;&#x7684;&#x7AEF;&#x53E3;&#x79F0;&#x4E3A;&#x6620;&#x5C04;&#x7AEF;&#x53E3;&#xFF0C;&#x662F;&#x5141;&#x8BB8;&#x5728;&#x4EFB;&#x610F;&#x5730;&#x65B9;&#xFF08;&#x6BD4;&#x5982;&#x5BBF;&#x4E3B;&#x673A;&#xFF09;&#x8BBF;&#x95EE;&#x7684;&#x3002;</p>
<h3 id="3-3-&#x76F8;&#x5173;&#x6587;&#x4EF6;"><a href="#3-3-&#x76F8;&#x5173;&#x6587;&#x4EF6;" class="headerlink" title="3.3 &#x76F8;&#x5173;&#x6587;&#x4EF6;"></a>3.3 &#x76F8;&#x5173;&#x6587;&#x4EF6;</h3><ul>
<li>&#x94FE;&#x63A5; <a href="https://pan.baidu.com/s/1mhJcR6g" target="_blank" rel="noopener">https://pan.baidu.com/s/1mhJcR6g</a> &#x5BC6;&#x7801;: tp3e &#xFF08;Hadoop&#x7B49;&#x76F8;&#x5173;&#x5B89;&#x88C5;&#x5305;&#x5373;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF09;</li>
<li>&#x94FE;&#x63A5; <a href="https://pan.baidu.com/s/1qXW2adQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1qXW2adQ</a> &#x5BC6;&#x7801;: 68d9 &#xFF08;Master&#x3001;Slave&#x955C;&#x50CF;&#xFF09;</li>
</ul>
<h3 id="3-4&#x53C2;&#x8003;&#x6587;&#x6863;"><a href="#3-4&#x53C2;&#x8003;&#x6587;&#x6863;" class="headerlink" title="3.4&#x53C2;&#x8003;&#x6587;&#x6863;"></a>3.4&#x53C2;&#x8003;&#x6587;&#x6863;</h3><ul>
<li><a href="http://www.worldhello.net/2010/04/08/1026.html" target="_blank" rel="noopener">http://www.worldhello.net/2010/04/08/1026.html</a> SSH&#x516C;&#x94A5;&#x68C0;&#x67E5;&#x95EE;&#x9898;</li>
<li><a href="http://www.linuxdiyf.com/linux/15953.html" target="_blank" rel="noopener">http://www.linuxdiyf.com/linux/15953.html</a> SHELL&#x8BBE;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x95EE;&#x9898;</li>
<li><a href="http://blog.csdn.net/u012554102/article/details/47102433" target="_blank" rel="noopener">http://blog.csdn.net/u012554102/article/details/47102433</a> Zookeeper&#x5B8C;&#x5168;&#x5206;&#x5E03;&#x5F0F;&#x5B89;&#x88C5;</li>
<li><a href="http://blog.csdn.net/hwwn2009/article/details/40000881/" target="_blank" rel="noopener">http://blog.csdn.net/hwwn2009/article/details/40000881/</a> Zookeeper&#x5B8C;&#x5168;&#x5206;&#x5E03;&#x5F0F;&#x5B89;&#x88C5;</li>
<li><a href="http://www.cnblogs.com/K-artorias/p/7153751.html" target="_blank" rel="noopener">http://www.cnblogs.com/K-artorias/p/7153751.html</a>  Hbase&#x5B8C;&#x5168;&#x5206;&#x5E03;&#x5F0F;&#x5B89;&#x88C5;</li>
<li><a href="http://blog.csdn.net/hwwn2009/article/details/40015907" target="_blank" rel="noopener">http://blog.csdn.net/hwwn2009/article/details/40015907</a> Hbase&#x5B8C;&#x5168;&#x5206;&#x5E03;&#x5F0F;&#x5B89;&#x88C5;</li>
<li><a href="http://blog.csdn.net/javastart/article/details/43735343" target="_blank" rel="noopener">http://blog.csdn.net/javastart/article/details/43735343</a> Spark History&#x5B89;&#x88C5;&#x914D;&#x7F6E;</li>
<li><a href="http://www.cnblogs.com/luogankun/p/3981645.html" target="_blank" rel="noopener">http://www.cnblogs.com/luogankun/p/3981645.html</a> Spark History&#x5B89;&#x88C5;&#x914D;&#x7F6E;</li>
<li><a href="http://blog.csdn.net/surp2011/article/details/53191570" target="_blank" rel="noopener">http://blog.csdn.net/surp2011/article/details/53191570</a> Spark History&#x5B89;&#x88C5;&#x914D;&#x7F6E;</li>
<li><p><a href="http://stark-summer.iteye.com/blog/2218995" target="_blank" rel="noopener">http://stark-summer.iteye.com/blog/2218995</a> Spark History&#x5B89;&#x88C5;&#x914D;&#x7F6E;</p>
</li>
<li><p><a href="https://docs.docker.com/" target="_blank" rel="noopener">https://docs.docker.com/</a> Docker&#x5B98;&#x65B9;&#x6587;&#x6863;&#x7F51;&#x7AD9;</p>
</li>
</ul>
</div><div class="tags"><a href="/tags/Docker/">Docker</a><a href="/tags/Hadoop/">Hadoop</a><a href="/tags/Spark/">Spark</a><a href="/tags/分布式/">分布式</a></div><div class="post-share"><div class="bdsharebuttonbox"><span style="float:left;line-height: 28px;height: 28px;font-size:16px;font-weight:blod">分享到：</span><a href="#" data-cmd="more" class="bds_more"></a><a href="#" data-cmd="mshare" title="分享到一键分享" class="bds_mshare"></a><a href="#" data-cmd="fbook" title="分享到Facebook" class="bds_fbook"></a><a href="#" data-cmd="twi" title="分享到Twitter" class="bds_twi"></a><a href="#" data-cmd="linkedin" title="分享到linkedin" class="bds_linkedin"></a><a href="#" data-cmd="youdao" title="分享到有道云笔记" class="bds_youdao"></a><a href="#" data-cmd="evernotecn" title="分享到印象笔记" class="bds_evernotecn"></a><a href="#" data-cmd="weixin" title="分享到微信" class="bds_weixin"></a><a href="#" data-cmd="qzone" title="分享到QQ空间" class="bds_qzone"></a><a href="#" data-cmd="tsina" title="分享到新浪微博" class="bds_tsina"></a></div></div><div class="post-nav"><a href="/2017/12/17/Ubuntu各发行版详情/" class="pre">Ubuntu各发行版详情</a><a href="/2017/07/02/拉格朗日对偶问题/" class="next">拉格朗日对偶问题</a></div><!--新增打赏功能在正文底部--><div class="page-reward"><a id="a_label" class="page-reward-btn tooltip-top"><div id="reward_guide" class="tooltip tooltip-east"><span id="btn_guide" href="javascript:;" class="tooltip-item">打赏</span></div><script type="text/javascript">document.getElementById("btn_guide").onclick = function(){
    document.getElementById("reward_guide").setAttribute("style", "display:none");
    document.getElementById("a_label").setAttribute("style", "display:none");
    document.getElementById("img_guide").setAttribute("style", "display:block");
}</script></a><div id="img_guide" style="display:none" class="tooltip reward-box"><table><tr><td><img src="https://flat2010.github.io/about/weixin_qrcode.jpg" style="text-align:center;float:center" class="reward-img"></td><td></td></tr></table></div><script type="text/javascript">document.getElementById("img_guide").onclick = function(){
    document.getElementById("reward_guide").setAttribute("style", "display:inline-block");
    document.getElementById("a_label").setAttribute("style", "display:inline-block");
    document.getElementById("img_guide").setAttribute("style", "display:none");
}</script></div><!--end--><div id="comments"><div id="disqus_thread"></div></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#一、Docker简介"><span class="toc-text">一、Docker简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-What-is-Docker"><span class="toc-text">1. What is Docker?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Why-Docker"><span class="toc-text">2. Why Docker?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Which-platforms"><span class="toc-text">3. Which platforms?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Basic-terms"><span class="toc-text">4. Basic terms?</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二、Docker应用实践"><span class="toc-text">二、Docker应用实践</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-需要软件"><span class="toc-text">2.1 需要软件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-部署说明"><span class="toc-text">2.2 部署说明</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-紧耦合问题"><span class="toc-text">2.2.1 紧耦合问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-可选安装包"><span class="toc-text">2.2.2 可选安装包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-集群规划"><span class="toc-text">2.2.3 集群规划</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-静态IP问题"><span class="toc-text">2.2.4 静态IP问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-部署文件说明"><span class="toc-text">2.2.5 *部署文件说明</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-部署步骤"><span class="toc-text">2.3 部署步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-确定要安装软件"><span class="toc-text">2.3.1 确定要安装软件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-构建基础镜像"><span class="toc-text">2.3.2 构建基础镜像</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-构建集群镜像"><span class="toc-text">2.3.3 构建集群镜像</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-创建并运行容器"><span class="toc-text">2.3.4 创建并运行容器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-5-初始化环境"><span class="toc-text">2.3.5 初始化环境</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-6-启动集群"><span class="toc-text">2.3.6 启动集群</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-7-查看集群"><span class="toc-text">2.3.7 查看集群</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-集群管理"><span class="toc-text">2.4 集群管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-1-停止集群"><span class="toc-text">2.4.1 停止集群</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-2-停止容器"><span class="toc-text">2.4.2 停止容器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-3-重启容器"><span class="toc-text">2.4.3 重启容器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-4-删除容器"><span class="toc-text">2.4.4 删除容器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-5-删除镜像"><span class="toc-text">2.4.5 删除镜像</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-遇到的问题"><span class="toc-text">2.5 遇到的问题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-1-免密登录问题"><span class="toc-text">2.5.1 免密登录问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-2-网络冲突"><span class="toc-text">2.5.2 网络冲突</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-3-默认shell"><span class="toc-text">2.5.3 默认shell</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-4-Docker-compose安装"><span class="toc-text">2.5.4 Docker-compose安装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-5-Spark的4040"><span class="toc-text">2.5.5 Spark的4040</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-6-环境脚本失效"><span class="toc-text">2.5.6 环境脚本失效</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-7-找不到资料"><span class="toc-text">2.5.7 找不到资料</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三、结语"><span class="toc-text">三、结语</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-待完善"><span class="toc-text">3.1 待完善</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-Docker知识"><span class="toc-text">3.2 Docker知识</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-1-常用命令分类"><span class="toc-text">3.2.1 常用命令分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-2-常用命令速查"><span class="toc-text">3.2.2 常用命令速查</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-3-暴露和映射区别"><span class="toc-text">3.2.3 暴露和映射区别</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-相关文件"><span class="toc-text">3.3 相关文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4参考文档"><span class="toc-text">3.4参考文档</span></a></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/06/30/病态问题及条件数/">病态问题及条件数</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/24/hello-world/">Hello World</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/15/手算CNN中的参数/">CNN中的参数解释及计算</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/23/字符串匹配算法系列之一：BF-KMP/">字符串匹配算法系列之一：BF && KMP</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/21/机器学习算法系列之三：SVM6/">机器学习算法系列之三：SVM6</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/19/模运算中为何要用素数作为模/"> 模运算中为何要用素数作为模</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/31/机器学习算法系列之三：SVM5/">机器学习算法系列之三：SVM（5）</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/02/16/深度学习：目标检测之一（基础篇）/">深度学习：目标检测之一（基础篇）</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/17/Ubuntu各发行版详情/">Ubuntu各发行版详情</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/12/Docker上部署Hadoop等完全分布式集群/">Docker上部署Hadoop等完全分布式集群</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i><ul></ul><ul></ul><ul></ul><ul></ul><ul></ul><ul></ul><ul></ul><ul></ul><ul></ul><ul></ul><ul></ul><ul></ul><ul></ul></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Docker/">Docker</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/个人博客/">个人博客</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/字符串匹配/">字符串匹配</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/安装配置教程/">安装配置教程</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数学理论/">数学理论</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/日常技巧总结/">日常技巧总结</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/机器学习/">机器学习</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/深度学习/">深度学习</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/编程笔记/">编程笔记</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/读书笔记/">读书笔记</a><span class="category-list-count">5</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/字符串匹配/" style="font-size: 12px; color: #00f">字符串匹配</a> <a href="/tags/机器学习/" style="font-size: 22.4px; color: #c0f">机器学习</a> <a href="/tags/Netfilter/" style="font-size: 12px; color: #00f">Netfilter</a> <a href="/tags/Iptables/" style="font-size: 12px; color: #00f">Iptables</a> <a href="/tags/Linux/" style="font-size: 14.6px; color: #30f">Linux</a> <a href="/tags/Docker/" style="font-size: 12px; color: #00f">Docker</a> <a href="/tags/Hadoop/" style="font-size: 12px; color: #00f">Hadoop</a> <a href="/tags/Spark/" style="font-size: 12px; color: #00f">Spark</a> <a href="/tags/分布式/" style="font-size: 12px; color: #00f">分布式</a> <a href="/tags/Python/" style="font-size: 17.2px; color: #60f">Python</a> <a href="/tags/算法/" style="font-size: 25px; color: #f0f">算法</a> <a href="/tags/3D图形/" style="font-size: 12px; color: #00f">3D图形</a> <a href="/tags/Ubuntu/" style="font-size: 14.6px; color: #30f">Ubuntu</a> <a href="/tags/Oracle/" style="font-size: 12px; color: #00f">Oracle</a> <a href="/tags/数据库/" style="font-size: 12px; color: #00f">数据库</a> <a href="/tags/Numpy/" style="font-size: 12px; color: #00f">Numpy</a> <a href="/tags/Pcapy/" style="font-size: 12px; color: #00f">Pcapy</a> <a href="/tags/Wireshark/" style="font-size: 12px; color: #00f">Wireshark</a> <a href="/tags/HTTP/" style="font-size: 12px; color: #00f">HTTP</a> <a href="/tags/Hexo/" style="font-size: 12px; color: #00f">Hexo</a> <a href="/tags/个人博客/" style="font-size: 12px; color: #00f">个人博客</a> <a href="/tags/深度学习/" style="font-size: 12px; color: #00f">深度学习</a> <a href="/tags/卷积/" style="font-size: 12px; color: #00f">卷积</a> <a href="/tags/池化/" style="font-size: 12px; color: #00f">池化</a> <a href="/tags/拉格朗日/" style="font-size: 12px; color: #00f">拉格朗日</a> <a href="/tags/对偶问题/" style="font-size: 12px; color: #00f">对偶问题</a> <a href="/tags/统计学习/" style="font-size: 12px; color: #00f">统计学习</a> <a href="/tags/李航/" style="font-size: 12px; color: #00f">李航</a> <a href="/tags/数据挖掘/" style="font-size: 12px; color: #00f">数据挖掘</a> <a href="/tags/DataMine/" style="font-size: 12px; color: #00f">DataMine</a> <a href="/tags/JiaWei-Han/" style="font-size: 12px; color: #00f">JiaWei Han</a> <a href="/tags/SVM/" style="font-size: 19.8px; color: #90f">SVM</a> <a href="/tags/支持向量机/" style="font-size: 19.8px; color: #90f">支持向量机</a> <a href="/tags/数学概念/" style="font-size: 12px; color: #00f">数学概念</a> <a href="/tags/数学定义/" style="font-size: 12px; color: #00f">数学定义</a> <a href="/tags/Hash/" style="font-size: 12px; color: #00f">Hash</a> <a href="/tags/模运算/" style="font-size: 12px; color: #00f">模运算</a> <a href="/tags/目标检测/" style="font-size: 12px; color: #00f">目标检测</a> <a href="/tags/回调函数/" style="font-size: 12px; color: #00f">回调函数</a> <a href="/tags/病态/" style="font-size: 12px; color: #00f">病态</a> <a href="/tags/条件数/" style="font-size: 12px; color: #00f">条件数</a> <a href="/tags/特征值/" style="font-size: 12px; color: #00f">特征值</a> <a href="/tags/特征向量/" style="font-size: 12px; color: #00f">特征向量</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 时间线</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">2018年06月</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">2018年04月</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">2018年03月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">2018年02月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">2017年12月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">2017年08月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">2017年07月</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">2017年05月</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">2017年04月</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">2017年02月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">2017年01月</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">2016年12月</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">2016年11月</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">2016年08月</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">2014年06月</a><span class="archive-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-github"> Github</i></div><ul></ul><a href="https://github.com/flat2010" title="flat2010" target="_blank">flat2010</a><iframe width="100%" height="400" frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&amp;width=0&amp;height=550&amp;fansRow=2&amp;ptype=1&amp;speed=0&amp;skin=5&amp;isTitle=0&amp;noborder=0&amp;isWeibo=1&amp;isFans=0&amp;uid=1700139362&amp;verifier=85be6061&amp;colors=ffffff,ffffff,333333,40759b,ecfbfd&amp;dpc=1" class="share_self"></iframe></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">baidusitemap</a> |  <a href="/atom.xml">订阅</a> |  <a href="/about/">关于</a></p><p>本站访客总数：<i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>次</p><p>文章总阅读次数：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/." rel="nofollow">Jineney.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/flat2010/Molin"> Molin.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script><script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","qzone","linkedin","fbook","twi","print","renren","sqq","evernotecn","bdysc","tqq","tqf","bdxc","kaixin001","tieba","douban","bdhome","thx","ibaidu","meilishuo","mogujie","diandian","huaban","duitang","hx","fx","youdao","sdo","qingbiji","people","xinhua","mail","isohu","yaolan","wealink","ty","iguba","h163","copy"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"image":{"viewList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"]}};with(document)0[(getElementsByTagName('head')[0]||head).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script><script>var disqus_shortname = 'flat2010';
var disqus_identifier = '2017/08/12/Docker上部署Hadoop等完全分布式集群/';
var disqus_title = 'Docker上部署Hadoop等完全分布式集群';
var disqus_url = 'https://flat2010.github.io/2017/08/12/Docker上部署Hadoop等完全分布式集群/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//flat2010.disqus.com/count.js" async></script><script type="text/javascript" src="//flat2010.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></body></html><!--为主题添加mathjax支持--><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML" async></script><script type="text/x-mathjax-config">MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
tex2jax: { inlineMath: [ ["$", "$"], ["\\\(","\\)"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno",skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']},
TeX: { noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } }, Macros: { href: "{}" } },
messageStyle: "none"
});</script>